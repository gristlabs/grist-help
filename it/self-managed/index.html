<!DOCTYPE html>
<html lang="it">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
      <meta name="description" content="The essentials of creating and maintaining a self-managed Grist installation.">
      <meta property="og:description" content="The essentials of creating and maintaining a self-managed Grist installation.">
    
    
    <link rel="canonical" href="https://support.getgrist.com/self-managed/">
    <link rel="shortcut icon" href="/images/favicon.png">
    <link rel="me" href="https://fosstodon.org/@grist">
    <meta name="thumbnail" content="https://support.getgrist.com/images/favicon.png">
    <meta property="og:image" content="https://support.getgrist.com/images/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Self-managed Grist - Grist Help Center</title>
    
  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5FDHKQ9');</script>
  <!-- End Google Tag Manager -->
    <link href="/css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="/css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="/css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/highlight.css">
    <link href="../css/grist.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="/js/jquery-3.2.1.min.js"></script>
    <script src="/js/bootstrap-3.3.7.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script src="/js/elasticlunr.min.js"></script>
    <script>
      var base_url = '..';
      var is_top_frame = false;
    </script>
    <script src="/js/base.js"></script>
      <script src="../js/grist.js"></script>
    <script type="text/javascript">!function(e,t,n){function a(){var e=t.getElementsByTagName("script")[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://beacon-v2.helpscout.net",e.parentNode.insertBefore(n,e)}if(e.Beacon=n=function(t,n,a){e.Beacon.readyQueue.push({method:t,options:n,data:a})},n.readyQueue=[],"complete"===t.readyState)return a();e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}(window,document,window.Beacon||function(){});</script>
<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function() {
    window.Beacon('config', {display: { style: 'icon' }});
    window.Beacon('init', 'fc61df2a-664b-4422-b24f-964bd0cb6d53');
    window.Beacon('suggest', [
      {url: 'https://community.getgrist.com/', text: 'Community Forum'},
      {url: 'https://docs.getgrist.com/p/templates', text: 'Templates'},
      {url: 'https://github.com/gristlabs/grist-core/projects/1', text: 'Roadmap'},
    ]);

    fetch('https://api.getgrist.com/api/session/access/all', {credentials: 'include'})
      .then(function(resp) { return resp.json(); })
      .then(function(status) {
        // If there's exactly two orgs, will use the team name for the non-merged personal
        // org as the company name.  Otherwise don't worry about setting company name.
        var org = undefined;
        if (status.orgs.length === 2) {
          org = status.orgs[0].owner ? status.orgs[1] : status.orgs[0];
        }
        // If there's one user account available, fill it in silently; otherwise use
        // the first one and prefill fields but let user see them so they can override
        // them.  If testing this, be aware that if 'identify' was called previously,
        // it will be cached in local storage and used even if it is not set this time
        // around.
        var user = status.users[0];
        var identifyOrPrefill = status.users.length === 1 ? 'identify' : 'prefill';
        if (user && !user.anonymous) {
          var userObj = {};
          if (user.email) { userObj.email = user.email; }
          if (user.name) { userObj.name = user.name; }
          if (user.picture) { userObj.avatar = user.picture; }
          if (user.helpScoutSignature) { userObj.signature = user.helpScoutSignature; }
          if (org && org.name) { userObj.company = org.name; }
          window.Beacon(identifyOrPrefill, userObj);
        }
      });
  });
</script> 
</head>

<body>
  
  

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5FDHKQ9"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

<nav class="navbar wm-page-top-frame">
  <div class="container-fluid wm-top-container">
    
    <div class="wm-top-tool pull-right wm-vcenter">
      <form class="dropdown wm-vcentered" id="wm-search-form" action="/search.html" method="GET">
        
        <button id="wm-search-show" class="btn btn-sm btn-default" type="submit"
          ><i class="fa fa-search" aria-hidden="true"></i></button>

        <div class="input-group input-group-sm wm-top-search">
          <input type="text" name="q" class="form-control" id="mkdocs-search-query" placeholder="Search" autocomplete="off">
          <span class="input-group-btn" role="search">
            
            <button class="btn btn-default dropdown-toggle collapse" data-toggle="dropdown" type="button"><span class="caret"></span></button>
            <ul id="mkdocs-search-results" class="dropdown-menu dropdown-menu-right"></ul>
            <button id="wm-search-go" class="btn btn-default" type="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
          </span>
        </div>
      </form>
    </div>

    
    <div class="wm-top-tool wm-vcenter pull-right wm-small-left wm-top-toc-button">
      <button id="wm-toc-button" type="button" class="btn btn-sm btn-default wm-vcentered"><i class="fa fa-th-list" aria-hidden="true"></i></button>
    </div>
    <div id="wm-language-select-container" class="wm-vcenter wm-top-tool home-top-tool-selector pull-right wm-small-left">
      <select id="wm-language-select" name="lang"
        
        >
        
        <option value="/" >en - English</option>
        
        <option value="/fr/" >fr - français</option>
        
        <option value="/it/" selected>it - italiano</option>
        
        <option value="/pt/" >pt - português</option>
        
        <option value="/uk/" >uk - українська мова</option>
        
      </select>
    </div>

    
    

    
    
      <a href="https://community.getgrist.com" class="wm-top-tool wm-top-link pull-right wm-vcenter home-link ">
        <div class="wm-top-title">
          Community
        </div>
      </a>
    
      <a href="https://www.getgrist.com" class="wm-top-tool wm-top-link pull-right wm-vcenter home-link wm-small-hide">
        <div class="wm-top-title">
          Back to Grist
        </div>
      </a>
    

    
    <a href=".." class="wm-top-brand wm-top-link wm-vcenter">
      
        <img class="wm-top-logo" src="../images/logo.png"/>
      
      <div class="wm-top-title">
        Grist Help Center<br>
        
          <span class="wm-top-version">1.0.2-dev</span>
        
      </div>
    </a>
  </div>
</nav>

<div id="main-content">
  
<nav class="wm-toc-pane">
  
  <ul class="wm-toctree">
        <li class="wm-toc-li wm-toc-lev1 "><a href=".." class="wm-article-link wm-toc-text">Home</a>

    
</li>
        <li class="wm-toc-li wm-toc-lev1 "><a href="../FAQ/" class="wm-article-link wm-toc-text">FAQ</a>

    
</li>
        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">How-to tutorials</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../lightweight-crm/" class="wm-article-link wm-toc-text">Create your own CRM</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../investment-research/" class="wm-article-link wm-toc-text">Analyze and visualize</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../afterschool-program/" class="wm-article-link wm-toc-text">Manage business data</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Managing documents</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../creating-doc/" class="wm-article-link wm-toc-text">Creating a document</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../sharing/" class="wm-article-link wm-toc-text">Sharing a document</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../copying-docs/" class="wm-article-link wm-toc-text">Copying documents</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../imports/" class="wm-article-link wm-toc-text">Importing more data</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../exports/" class="wm-article-link wm-toc-text">Exports & backups</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../automatic-backups/" class="wm-article-link wm-toc-text">Automatic backups</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../document-history/" class="wm-article-link wm-toc-text">Document history</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../workspaces/" class="wm-article-link wm-toc-text">Workspaces</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Pages and tables</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../enter-data/" class="wm-article-link wm-toc-text">Entering data</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../page-widgets/" class="wm-article-link wm-toc-text">Pages & widgets</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../raw-data/" class="wm-article-link wm-toc-text">Raw data</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../search-sort-filter/" class="wm-article-link wm-toc-text">Search, sort & filter</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-table/" class="wm-article-link wm-toc-text">Table widget</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-card/" class="wm-article-link wm-toc-text">Card & card list</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-form/" class="wm-article-link wm-toc-text">Form</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-chart/" class="wm-article-link wm-toc-text">Chart</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-calendar/" class="wm-article-link wm-toc-text">Calendar</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-custom/" class="wm-article-link wm-toc-text">Custom</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../linking-widgets/" class="wm-article-link wm-toc-text">Linking widgets</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../custom-layouts/" class="wm-article-link wm-toc-text">Custom layouts</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../record-cards/" class="wm-article-link wm-toc-text">Record cards</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../summary-tables/" class="wm-article-link wm-toc-text">Summary tables</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../on-demand-tables/" class="wm-article-link wm-toc-text">On-demand tables</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Columns and data types</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../col-types/" class="wm-article-link wm-toc-text">Columns & types</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../col-refs/" class="wm-article-link wm-toc-text">Reference columns</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../conditional-formatting/" class="wm-article-link wm-toc-text">Conditional formatting</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../timestamps/" class="wm-article-link wm-toc-text">Timestamp columns</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../authorship/" class="wm-article-link wm-toc-text">Authorship columns</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../col-transform/" class="wm-article-link wm-toc-text">Transformations</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Using formulas</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../formulas/" class="wm-article-link wm-toc-text">Intro to formulas</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../references-lookups/" class="wm-article-link wm-toc-text">References and lookups</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../dates/" class="wm-article-link wm-toc-text">Working with dates</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../formula-timer/" class="wm-article-link wm-toc-text">Formula timer</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../python/" class="wm-article-link wm-toc-text">Python versions</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../functions/" class="wm-article-link wm-toc-text">Function reference</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../formula-cheat-sheet/" class="wm-article-link wm-toc-text">Formula cheat sheet</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">AI Formula Assistant</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../ai-assistant/" class="wm-article-link wm-toc-text">AI Formula Assistant</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Team sites</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../teams/" class="wm-article-link wm-toc-text">Creating team sites</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../team-sharing/" class="wm-article-link wm-toc-text">Sharing team sites</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Access rules</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../access-rules/" class="wm-article-link wm-toc-text">Intro to access rules</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Integrations</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../rest-api/" class="wm-article-link wm-toc-text">REST API usage</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../api/" class="wm-article-link wm-toc-text">REST API reference</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../integrators/" class="wm-article-link wm-toc-text">Integrator services</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../embedding/" class="wm-article-link wm-toc-text">Embedding</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../webhooks/" class="wm-article-link wm-toc-text">Webhooks</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Plugin API</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="../code/" class="wm-article-link wm-toc-text">Intro to Plugin API</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../code/modules/grist_plugin_api/" class="wm-article-link wm-toc-text">grist-plugin-api</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="/... | flat | **/code/modules/**" class="wm-article-link wm-toc-text">AWESOME_PAGES_REST</a>

    
</li>
  </ul>
</li>

  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Self-managed</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2  wm-current wm-page-toc-opener wm-page-toc-open"><a href="./" class="wm-article-link wm-toc-text">Self-managed Grist</a>

    
    
    <li class="wm-page-toc wm-toc-li-nested collapse in">
      <ul class="wm-toctree">
        
          <li class="wm-toc-li">
            <a class="wm-article-link wm-page-toc-text" href="#_top">
              Self-Managed Grist
            </a>
          </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#the-essentials">
                The essentials
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#customization">
                Customization
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#operations">
                Operations
              </a>
            </li>
        
      </ul>
    </li>
    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/saml/" class="wm-article-link wm-toc-text">SAML</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/oidc/" class="wm-article-link wm-toc-text">OIDC</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/scim/" class="wm-article-link wm-toc-text">SCIM</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/forwarded-headers/" class="wm-article-link wm-toc-text">Forwarded headers</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/cloud-storage/" class="wm-article-link wm-toc-text">Cloud storage</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/grist-connect/" class="wm-article-link wm-toc-text">GristConnect</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/grist-builder-edition/" class="wm-article-link wm-toc-text">Grist Builder Edition</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Audit logs</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="../install/audit-log-overview/" class="wm-article-link wm-toc-text">Audit log overview</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../install/audit-log-streaming/" class="wm-article-link wm-toc-text">Audit log streaming</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../install/audit-log-events/" class="wm-article-link wm-toc-text">Audit log events</a>

    
</li>
  </ul>
</li>

      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Telemetry</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="../telemetry/" class="wm-article-link wm-toc-text">Overview of telemetry</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../telemetry-limited/" class="wm-article-link wm-toc-text">Limited telemetry</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../telemetry-full/" class="wm-article-link wm-toc-text">Full telemetry</a>

    
</li>
  </ul>
</li>

  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">News & updates</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/" class="wm-article-link wm-toc-text">Newsletters</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-12/" class="wm-article-link wm-toc-text">2024/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-11/" class="wm-article-link wm-toc-text">2024/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-10/" class="wm-article-link wm-toc-text">2024/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-09/" class="wm-article-link wm-toc-text">2024/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-08/" class="wm-article-link wm-toc-text">2024/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-07/" class="wm-article-link wm-toc-text">2024/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-06/" class="wm-article-link wm-toc-text">2024/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-05/" class="wm-article-link wm-toc-text">2024/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-04/" class="wm-article-link wm-toc-text">2024/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-03/" class="wm-article-link wm-toc-text">2024/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-02/" class="wm-article-link wm-toc-text">2024/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-01/" class="wm-article-link wm-toc-text">2024/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-12/" class="wm-article-link wm-toc-text">2023/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-11/" class="wm-article-link wm-toc-text">2023/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-10/" class="wm-article-link wm-toc-text">2023/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-09/" class="wm-article-link wm-toc-text">2023/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-08/" class="wm-article-link wm-toc-text">2023/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-07/" class="wm-article-link wm-toc-text">2023/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-06/" class="wm-article-link wm-toc-text">2023/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-05/" class="wm-article-link wm-toc-text">2023/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-04/" class="wm-article-link wm-toc-text">2023/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-03/" class="wm-article-link wm-toc-text">2023/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-02/" class="wm-article-link wm-toc-text">2023/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-01/" class="wm-article-link wm-toc-text">2023/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-12/" class="wm-article-link wm-toc-text">2022/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-11/" class="wm-article-link wm-toc-text">2022/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-10/" class="wm-article-link wm-toc-text">2022/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-09/" class="wm-article-link wm-toc-text">2022/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-08/" class="wm-article-link wm-toc-text">2022/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-07/" class="wm-article-link wm-toc-text">2022/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-06/" class="wm-article-link wm-toc-text">2022/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-05/" class="wm-article-link wm-toc-text">2022/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-04/" class="wm-article-link wm-toc-text">2022/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-03/" class="wm-article-link wm-toc-text">2022/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-02/" class="wm-article-link wm-toc-text">2022/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-01/" class="wm-article-link wm-toc-text">2022/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-12/" class="wm-article-link wm-toc-text">2021/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-11/" class="wm-article-link wm-toc-text">2021/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-10/" class="wm-article-link wm-toc-text">2021/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-09/" class="wm-article-link wm-toc-text">2021/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-08/" class="wm-article-link wm-toc-text">2021/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-07/" class="wm-article-link wm-toc-text">2021/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-06/" class="wm-article-link wm-toc-text">2021/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-05/" class="wm-article-link wm-toc-text">2021/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-04/" class="wm-article-link wm-toc-text">2021/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-03/" class="wm-article-link wm-toc-text">2021/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-02/" class="wm-article-link wm-toc-text">2021/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-01/" class="wm-article-link wm-toc-text">2021/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-12/" class="wm-article-link wm-toc-text">2020/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-11/" class="wm-article-link wm-toc-text">2020/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-10/" class="wm-article-link wm-toc-text">2020/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-09/" class="wm-article-link wm-toc-text">2020/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-08/" class="wm-article-link wm-toc-text">2020/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-07/" class="wm-article-link wm-toc-text">2020/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-06/" class="wm-article-link wm-toc-text">2020/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-05/" class="wm-article-link wm-toc-text">2020/05</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">More examples</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/" class="wm-article-link wm-toc-text">More examples</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-06-credit-card/" class="wm-article-link wm-toc-text">Credit card expenses</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-06-book-club/" class="wm-article-link wm-toc-text">Book club links</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-07-email-compose/" class="wm-article-link wm-toc-text">Prefill emails</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-08-invoices/" class="wm-article-link wm-toc-text">Prepare invoices</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-09-payroll/" class="wm-article-link wm-toc-text">Track payroll</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-10-print-labels/" class="wm-article-link wm-toc-text">Print mailing labels</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-11-treasure-hunt/" class="wm-article-link wm-toc-text">Treasure hunt</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-12-map/" class="wm-article-link wm-toc-text">Map</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-01-tasks/" class="wm-article-link wm-toc-text">Task management</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-03-leads/" class="wm-article-link wm-toc-text">Lead list</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-04-link-keys/" class="wm-article-link wm-toc-text">Link keys guide</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-05-reference-columns/" class="wm-article-link wm-toc-text">Reference columns guide</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-06-timesheets/" class="wm-article-link wm-toc-text">Summary tables guide</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-07-auto-stamps/" class="wm-article-link wm-toc-text">Time and user stamps</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2023-01-acl-memo/" class="wm-article-link wm-toc-text">Restrict duplicate records</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2023-07-proposals-contracts/" class="wm-article-link wm-toc-text">Proposals & contracts</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Reference</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../keyboard-shortcuts/" class="wm-article-link wm-toc-text">Keyboard shortcuts</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="/functions/" class="wm-article-link wm-toc-text">Function reference</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../limits/" class="wm-article-link wm-toc-text">Limits</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../data-security/" class="wm-article-link wm-toc-text">Data security</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../browser-support/" class="wm-article-link wm-toc-text">Browser support</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../glossary/" class="wm-article-link wm-toc-text">Glossary</a>

    
</li>
  </ul>
</li>

  </ul>

  <div class="wm-toc-quick-links">
    <div class="wm-toc-quick-links-header"><span class="wm-toc-text">Quick Links</span></div>
    <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2">
        <a href="https://community.getgrist.com/" class="wm-quick-link wm-toc-text">Community</a>
      </li>
      <li class="wm-toc-li wm-toc-lev2">
        <a href="https://docs.getgrist.com/p/templates" class="wm-quick-link wm-toc-text">Templates</a>
      </li>
      <li class="wm-toc-li wm-toc-lev2">
        <a href="https://github.com/gristlabs/grist-core/projects/1" class="wm-quick-link wm-toc-text">Roadmap</a>
      </li>
    </ul>
    <ul class="wm-toctree wm-toc-repo">
      <li class="wm-toc-li wm-toc-lev2">
      <a class="wm-quick-link wm-toc-text" href="https://github.com/gristlabs/grist-help">
        <i class="fa fa-github"></i>

        Edit on GitHub
      </a>
      </li>
    </ul>

  </div>

</nav>

  <script>
    // Immediately expand parent items to show the selected page.
    $('.wm-current')
      .parents('.wm-toc-li-nested').addClass('collapse in')
      .prev('.wm-toc-opener').addClass('wm-toc-open');
  </script>
  <div class="wm-content-pane">
    <div class="wm-article">

<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../install/saml/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../install/saml/" class="btn btn-xs btn-link">
        SAML
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../code/modules/grist_plugin_api/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../code/modules/grist_plugin_api/" class="btn btn-xs btn-link">
        grist-plugin-api
      </a>
    </div>
    
  </div>

    

    <div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We&rsquo;re just getting started translating this language, sorry!</p>
<p>We show partially translated languages to track progress.</p>
<p>This page isn&rsquo;t translated yet. But the good news is that <a class="internal-link" href="https://github.com/gristlabs/grist-help/issues/new?template=10-help-translating.yml&amp;title=%5BGitLocalize%5D+Please+invite+me+to+the+translation+team" target="_blank">you can join the translation community to help us 👋</a>.</p>
</div>
<h1 id="self-managed-grist">Self-Managed Grist<a class="headerlink" href="#self-managed-grist" title="Permanent link">#</a></h1>
<div class="toc">
<ul>
<li><a href="#self-managed-grist">Self-Managed Grist</a><ul>
<li><a href="#the-essentials">The essentials</a><ul>
<li><a href="#what-is-self-managed-grist">What is Self-Managed Grist?</a></li>
<li><a href="#how-do-i-install-grist">How do I install Grist?</a><ul>
<li><a href="#grist-on-aws">Grist on AWS</a></li>
</ul>
</li>
<li><a href="#what-is-the-administrative-account">What is the administrative account?</a></li>
<li><a href="#how-do-i-sandbox-documents">How do I sandbox documents?</a><ul>
<li><a href="#xsave-not-available">XSAVE not available</a></li>
<li><a href="#ptrace-not-available">PTRACE not available</a></li>
</ul>
</li>
<li><a href="#how-do-i-run-grist-on-a-server">How do I run Grist on a server?</a></li>
<li><a href="#how-do-i-set-up-a-team">How do I set up a team?</a><ul>
<li><a href="#changing-the-value-of-grist_default_email">Changing the value of GRIST_DEFAULT_EMAIL</a></li>
</ul>
</li>
<li><a href="#how-do-i-set-up-authentication">How do I set up authentication?</a></li>
<li><a href="#are-there-other-authentication-methods">Are there other authentication methods?</a></li>
<li><a href="#how-do-i-enable-grist-enterprise">How do I enable Grist Enterprise?</a></li>
</ul>
</li>
<li><a href="#customization">Customization</a><ul>
<li><a href="#how-do-i-customize-styling">How do I customize styling?</a></li>
<li><a href="#how-do-i-list-custom-widgets">How do I list custom widgets?</a></li>
<li><a href="#how-do-i-set-up-email-notifications">How do I set up email notifications?</a></li>
<li><a href="#how-do-i-add-more-python-packages">How do I add more python packages?</a></li>
<li><a href="#how-do-i-configure-webhooks">How do I configure webhooks?</a></li>
</ul>
</li>
<li><a href="#operations">Operations</a><ul>
<li><a href="#what-are-the-hardware-requirements-for-hosting-grist">What are the hardware requirements for hosting Grist?</a></li>
<li><a href="#what-files-does-grist-store">What files does Grist store?</a></li>
<li><a href="#what-is-a-home-database">What is a &ldquo;home&rdquo; database?</a></li>
<li><a href="#what-is-a-state-store">What is a state store?</a></li>
<li><a href="#how-do-i-set-up-snapshots">How do I set up snapshots?</a></li>
<li><a href="#how-do-i-control-telemetry">How do I control telemetry?</a></li>
<li><a href="#how-do-i-upgrade-my-installation">How do I upgrade my installation?</a></li>
<li><a href="#what-if-i-need-high-availability">What if I need high availability?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="the-essentials">The essentials<a class="headerlink" href="#the-essentials" title="Permanent link">#</a></h2>
<h3 id="what-is-self-managed-grist">What is Self-Managed Grist?<a class="headerlink" href="#what-is-self-managed-grist" title="Permanent link">#</a></h3>
<p>There are four flavors of Grist:</p>
<ul>
<li><strong>SaaS</strong> (Software as a Service): Grist is available as a hosted service
    at <a href="https://docs.getgrist.com">docs.getgrist.com</a>.
    No installation needed. Free and paid plans, with usage limits.</li>
<li><strong>Desktop App</strong>: Grist is available as a desktop application, built with Electron.
    It is available for download at <a href="https://github.com/gristlabs/grist-desktop/releases">https://github.com/gristlabs/grist-desktop/releases</a>.
    This desktop application does not need internet and is not tied to any online account or service.</li>
<li><strong>Self-Managed Enterprise</strong>: Grist is available as a licensed application
    installed by enterprises on their own infrastructure
    with our support and backing. Contains proprietary features
    developed for enterprises with particular needs.</li>
<li><strong>Self-Managed Core</strong>: Grist is available as a free application installed
    by citizen developers on their own infrastructure with community support.
    Grist documents created with our SaaS and Enterprise offerings
    can be opened and edited with Core, and vice versa. This establishes
    Grist documents as a reliable format for archiving and interchange.</li>
</ul>
<p class="tag-core tag-ee">Self-Managed Grist, be it Enterprise or Core, is installed and configured in
much the same way, as described in the following
sections. For clarity, the sections are tagged
with which flavor they apply to, for example:</p>
<p>The full source code for Grist Core is always available at
<a href="https://github.com/gristlabs/grist-core/">github.com/gristlabs/grist-core</a>
and is under an Apache-2.0 license. You may use and redistribute Core
freely, under the terms of the free software license.
The full source for Grist Enterprise
is also available, at
<a href="https://github.com/gristlabs/grist-ee/">github.com/gristlabs/grist-ee</a>,
under a proprietary license that does not grant any automatic
rights to use or redistribute the software. You can evaluate Enterprise
for 30 days using the instructions in the following sections,
or <a href="https://www.getgrist.com/pricing">sign up for our Grist Enterprise plan</a>
and get support.</p>
<h3 class="tag-core tag-ee" id="how-do-i-install-grist">How do I install Grist?<a class="headerlink" href="#how-do-i-install-grist" title="Permanent link">#</a></h3>
<p>The easiest way to install Grist is as a container. We will
describe how using <a href="https://www.docker.com/">Docker</a>,
but there are many other tools and services for running
containers.</p>
<p>To try Grist out using Docker, make an empty directory for Grist to store material in (say <code>~/grist</code>) and then you can do:</p>
<pre><code>docker run -p 8484:8484 \
  -v ~/grist:/persist \
  -e GRIST_SESSION_SECRET=invent-a-secret-here \
  -e GRIST_DEFAULT_EMAIL=your-email@example.com \
  -it gristlabs/grist
</code></pre>
<p>You should then be able to visit <code>http://localhost:8484</code> in
your browser. Already you will be able to create and edit Grist
documents, and to open and edit documents downloaded from another
Grist installation (such as our SaaS).</p>
<p>If using some other tool or service, here are the important points:</p>
<ul>
<li>The main image name is <code>gristlabs/grist</code>, which is our combined Core and Enterprise docker image.
   The image <code>gristlabs/grist-oss</code> also exists, which uses only free and open source code. This image uses only Grist
   Core, and has no enterprise features available.
   (For some tools such as Podman, you may need to prefix these image names with <code>docker.io/</code>.)</li>
<li>A volume (or mount, or directory) needs to be available at location
   <code>/persist</code> within the container. It can be initially empty - Grist
   will populate it. Without this volume, nothing you do will be stored long-term.</li>
<li>Port <code>8484</code> on the container needs to be exposed. This can be changed
   if you also set the <code>PORT</code> environment variable for the container.</li>
<li>The environment variable <code>GRIST_SESSION_SECRET</code> should be set
   to something secret for the container.</li>
</ul>
<p>Installed this way, Grist is accessible only to you. Typically you want to
take at least the following steps:</p>
<ul>
<li><a href="./#how-do-i-sandbox-documents">Set up sandboxing</a> - this is important to
    place bounds on what formulas can do.</li>
<li><a href="./#how-do-i-run-grist-on-a-server">Serve from a public host</a>
    so you can collaborate live with others.</li>
<li>Enable an authentication method so users can log in. Often you&rsquo;ll want
    to hook Grist up to an &ldquo;SSO&rdquo; (Single Sign-On) service you already use.
    We support some very
    <a href="./#how-do-i-set-up-authentication">general authentication methods</a> that cover many cases,
    and a <a href="./#are-there-other-authentication-methods">special authentication method</a> for custom cases.</li>
<li>Consider enabling <a href="./#how-do-i-set-up-snapshots">snapshot support</a> if you want Grist to handle document backups.</li>
</ul>
<h4 id="grist-on-aws">Grist on AWS<a class="headerlink" href="#grist-on-aws" title="Permanent link">#</a></h4>
<p>You can also host Grist on AWS. Full instructions on this hosting method are available on the Grist <a href="install/aws-marketplace.md">AWS Marketplace page</a>.</p>
<h3 class="tag-core tag-ee" id="what-is-the-administrative-account">What is the administrative account?<a class="headerlink" href="#what-is-the-administrative-account" title="Permanent link">#</a></h3>
<p>On a new Grist installation, the user who logs in with the email
defined by <code>GRIST_DEFAULT_EMAIL</code> is the administrator of this Grist
installation. When Grist runs for the first time, it will create an
account set to the value of <code>GRIST_DEFAULT_EMAIL</code>. Note that if this
variable is not set, it defaults to <code>you@example.com</code>. Changing the
value of <code>GRIST_DEFAULT_EMAIL</code> after the first admin user has been
created will effectively revoke administrator permissions from the
first user and assign them to the new email address.</p>
<p>The administrative account has access to the admin panel where they
may inspect details of the installation or toggle features such as
<a href="./#how-do-i-control-telemetry">telemetry</a> or <a href="./#how-do-i-enable-grist-enterprise">Grist
Enterprise</a>.</p>
<h3 class="tag-core tag-ee" id="how-do-i-sandbox-documents">How do I sandbox documents?<a class="headerlink" href="#how-do-i-sandbox-documents" title="Permanent link">#</a></h3>
<p>Grist allows for very powerful formulas, using Python.  We recommend
setting the environment variable <code>GRIST_SANDBOX_FLAVOR</code> to <code>gvisor</code> if
your hardware supports it (most will), to run formulas in each
document within a sandbox isolated from other documents and isolated
from the network.</p>
<pre><code>docker run ...
  -e GRIST_SANDBOX_FLAVOR=gvisor \
  ...
</code></pre>
<p>To sanity-check that formulas are being evaluated within a sandbox,
you can create a document and then check that this formula
gives an empty result:</p>
<pre><code>import glob
glob.glob('/etc/*')
</code></pre>
<p>Here are some reasons why <code>gvisor</code> sandboxing, as configured for
Grist, may fail, and what you can do to diagnose the problem.</p>
<h4 id="xsave-not-available">XSAVE not available<a class="headerlink" href="#xsave-not-available" title="Permanent link">#</a></h4>
<p>Your processor may not be supported. On <code>x86_64</code>, Sandy Bridge
or later is needed. Check that the <code>XSAVE</code> processor flag is set.
Here&rsquo;s a quick way to test that:</p>
<pre><code class="language-sh">grep -q '\bxsave\b' /proc/cpuinfo &amp;&amp; echo &quot;XSAVE enabled&quot; || echo &quot;XSAVE missing&quot;
</code></pre>
<h4 id="ptrace-not-available">PTRACE not available<a class="headerlink" href="#ptrace-not-available" title="Permanent link">#</a></h4>
<p>The <code>SYS_PTRACE</code> capability may not be available. If running
in docker, you could try explicitly granting it, if you are
comfortable with making it available:</p>
<pre><code>docker run ...
  --cap-add=SYS_PTRACE
  ...
</code></pre>
<p>In some cloud environments such as AWS ECS, you may need to
explicitly list this capability in your container configuration.</p>
<h3 class="tag-core tag-ee" id="how-do-i-run-grist-on-a-server">How do I run Grist on a server?<a class="headerlink" href="#how-do-i-run-grist-on-a-server" title="Permanent link">#</a></h3>
<p>We suggest that you become familiar with all the other aspects of
self-management on this page before serving Grist from a public host
(especially <a href="./#how-do-i-sandbox-documents">Sandboxing</a>).
When you do, it is important to tell Grist where it will be served
from, using the <code>APP_HOME_URL</code> variable. For example, if you will
be serving from <code>https://grist.example.com</code>, let Grist know like
this:</p>
<pre><code>docker run ...
  -e APP_HOME_URL=&quot;https://grist.example.com&quot; \
  ...
</code></pre>
<p>You will need to place a &ldquo;reverse proxy&rdquo; in front of Grist to
handle &ldquo;SSL termination&rdquo; (decrypting encypted traffic) using
a certificate that establishes ownership of the site. If you don&rsquo;t
know what this means, you could try using the
<a href="https://github.com/gristlabs/grist-omnibus">Grist Omnibus</a> which
packages Grist with a reverse proxy that will
use <a href="https://letsencrypt.org/">Let&rsquo;s Encrypt</a> to get a certificate
for you automatically.</p>
<p>An important job of such a proxy is to correctly forward
<a href="https://en.wikipedia.org/wiki/WebSocket">websocket</a> connections. This
amounts to two requirements:</p>
<ol>
<li>Ensure that the proxy is using HTTP 1.1</li>
<li>Pass the necessary Upgrade, Connection, and Host HTTP headers so
     that an HTTP connection can be upgraded to a websocket connection.</li>
</ol>
<p>For example, here is a minimal configuration for
<a href="https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/">nginx</a>,
a possible choice for reverse proxy.</p>
<pre><code>server {
    server_name grist.example.com;

    location / {
        proxy_pass http://localhost:8484;
        proxy_redirect     off;
        proxy_set_header   Host             $host;
        proxy_set_header   X-Real-IP        $remote_addr;
        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;

        # WebSocket support
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection &quot;upgrade&quot;;

    }
}
</code></pre>
<p>This configuration will handle basic HTTP traffic and websockets. It
still requires additional SSL/TLS configuration. A simple option for
self-hosting on a small scale is to use <a href="https://certbot.eff.org/"><code>certbot</code> by the
EFF</a>.</p>
<h3 class="tag-core tag-ee" id="how-do-i-set-up-a-team">How do I set up a team?<a class="headerlink" href="#how-do-i-set-up-a-team" title="Permanent link">#</a></h3>
<p>Grist has a concept of &ldquo;team sites&rdquo; that are independently managed and
named areas containing their own workspaces and documents.  Team sites
can have distinct subdomains (as on our SaaS&rsquo;s <a href="../teams/">hosted team sites</a>),
or be distinguished by
a special path prefix.  This often does not make sense for self-managed
installations, where there is a single team.  With a single domain and
a single team, the special path prefix (which looks like <code>/o/&lt;team-name&gt;</code>)
is an inelegant waste of space in URLs. So you can direct Grist to
use a single team by setting <code>GRIST_SINGLE_ORG</code> (&ldquo;org&rdquo; or &ldquo;organization&rdquo;
is a synonym for team):</p>
<pre><code>docker run ...
  -e GRIST_SINGLE_ORG=cool-beans
</code></pre>
<p>The name of the team should use only the lower-case characters a-z, the digits
0-9, and the hyphen (<code>-</code>).  You may also want to look into
<a href="./#how-do-i-customize-styling">Custom styling</a> to hide any UI elements
you don&rsquo;t need.</p>
<h4 id="changing-the-value-of-grist_default_email">Changing the value of <code>GRIST_DEFAULT_EMAIL</code><a class="headerlink" href="#changing-the-value-of-grist_default_email" title="Permanent link">#</a></h4>
<p>When <a href="./#how-do-i-set-up-a-team">using
<code>GRIST_SINGLE_ORG</code></a>, the
single org will also be created initially and owned by the user
configured by <code>GRIST_DEFAULT_EMAIL</code>. If you change the value of
<code>GRIST_DEFAULT_EMAIL</code>, <a href="./#what-is-the-administrative-account">the
administrator</a> may
temporarily lose access to the team site.</p>
<p>In order to prevent this, before changing <code>GRIST_DEFAULT_EMAIL</code> use
<a href="../team-sharing/">team sharing options</a> to add new owners to the team
site, since apart from initial creation, administrators have no
automatic right to team site membership.</p>
<h3 class="tag-core tag-ee" id="how-do-i-set-up-authentication">How do I set up authentication?<a class="headerlink" href="#how-do-i-set-up-authentication" title="Permanent link">#</a></h3>
<p>Authentication can be set up in many ways for Grist Core and Enterprise, using
SAML, OpenID Connect or forwarded headers. Between the two, many popular SSOs can be hooked
up, such as Google or Microsoft sign-ins.</p>
<ul>
<li><a href="../install/saml/">SAML</a>.</li>
<li><a href="../install/oidc/">OpenID Connect</a></li>
<li><a href="../install/forwarded-headers/">Forwarded headers</a>.</li>
</ul>
<p>For any authentication method, you may want to also consider setting the
following variables:</p>
<ul>
<li><code>COOKIE_MAX_AGE</code>: (optional) expiration date for Grist session
    cookie, when set to <code>none</code> session cookie will be in a <code>Session</code>
    mode - it should be removed after closing a browser. If set to a
    number, the units of the number are milliseconds.</li>
<li><code>GRIST_FORCE_LOGIN</code>: (optional) when set to <code>true</code> this will
    instruct Grist to redirect anonymous users to a login page.</li>
</ul>
<p>For our SaaS, we use a custom authentication system based around AWS
Cognito. Currently, we have no plans to release that as part of Core
or Enterprise.</p>
<h3 class="tag-ee" id="are-there-other-authentication-methods">Are there other authentication methods?<a class="headerlink" href="#are-there-other-authentication-methods" title="Permanent link">#</a></h3>
<p>If users on your site login via WordPress, or via a custom mechanism
you developed, you may want to consider
<a href="../install/grist-connect/">GristConnect</a>, available for Grist Enterprise.</p>
<h3 class="tag-ee" id="how-do-i-enable-grist-enterprise">How do I enable Grist Enterprise?<a class="headerlink" href="#how-do-i-enable-grist-enterprise" title="Permanent link">#</a></h3>
<p>Grist Enterprise can be enabled by visiting the Admin Panel and clicking the &lsquo;Enable Grist Enterprise Features&rsquo; toggle.
This will cause Grist to automatically restart.</p>
<p><img alt="Enterprise toggle on the admin panel" src="../images/admin-panel/enterprise-toggle.png" /></p>
<p>You should now have an unactivated version of Grist Enterprise, with a 30 day trial period.</p>
<p>Activation keys are used to run Grist Enterprise after a trial period
of 30 days has expired.
Get an activation key by <a href="https://www.getgrist.com/pricing">signing up for Grist Enterprise</a>.
You don&rsquo;t need an activation key to run Grist Core, and can revert back to Core at any time using the toggle in the Admin Panel.</p>
<p>Place the contents of your activation key in an environment variable called
<code>GRIST_ACTIVATION</code>, or place it in a directory available to Grist and
provide the full path to the file with the environment variable
<code>GRIST_ACTIVATION_FILE</code>. Without the activation key, there will be a
banner stating that Grist is in trial mode. Once the activation key is detected,
this banner will go away. Replacing the activation key will require
restarting Grist.</p>
<pre><code>docker run ...
  -e GRIST_ACTIVATION=&lt;activation-key-goes-here&gt; \
  -it gristlabs/grist
</code></pre>
<hr />
<h2 id="customization">Customization<a class="headerlink" href="#customization" title="Permanent link">#</a></h2>
<h3 class="tag-core tag-ee" id="how-do-i-customize-styling">How do I customize styling?<a class="headerlink" href="#how-do-i-customize-styling" title="Permanent link">#</a></h3>
<p>The Grist UI has many elements, some of which may not be relevant to you.
For self-managed installations of Grist,
you can turn off many elements using <code>GRIST_HIDE_UI_ELEMENTS</code>.
This is comma-separated list of parts of the UI to hide.
The allowed names of parts are:
<code>helpCenter,billing,templates,multiSite,multiAccounts</code>.
The UI elements present are also affected by whether <code>GRIST_SINGLE_ORG</code> is set.</p>
<pre><code>docker run
  ...
  -e GRIST_HIDE_UI_ELEMENTS=helpCenter,billing,templates,multiSite,multiAccounts \
  ...
</code></pre>
<p>By default pages of the Grist UI have <code>- Grist</code> added to their title. You can
change this by setting <code>GRIST_PAGE_TITLE_SUFFIX</code>:</p>
<pre><code>docker run
  ...
  -e GRIST_PAGE_TITLE_SUFFIX=&quot; - Cool Beans&quot; \
  ...
</code></pre>
<p>You can set the suffix to <code>"_blank"</code> to entirely remove it.</p>
<p>You can also override the CSS styling of the site if you set
<code>APP_STATIC_INCLUDE_CUSTOM_CSS</code> to <code>true</code>.</p>
<pre><code>docker run
  ...
  -e APP_STATIC_INCLUDE_CUSTOM_CSS=true \
  ...
</code></pre>
<p>This will load an extra <code>custom.css</code> file. You can find
an example of such a file in the
<a href="https://github.com/gristlabs/grist-core/blob/main/static/custom.css">Grist Core repository</a>.</p>
<p>The file includes most of our global CSS variables for colors, and a
few variables for the logo shown in the top-left corner. There’s
really no limit to what can go in the file, so specifying arbitrary
styles is possible. Note that all CSS rules should use
<code>!important</code> to make sure they have the highest precedence. Otherwise,
it’s possible for more specific rules included by our framework to take
precedence.</p>
<p>To override <code>custom.css</code>, you can make your own copy and make
sure Grist uses it. If the CSS file is in your current directory, then
do:</p>
<pre><code>docker run
  ...
  -v $PWD/custom.css:/grist/static/custom.css
  ...
</code></pre>
<p>It is possible to direct Grist to load static resources from a CDN by
setting <code>APP_STATIC_URL</code>. If you do so, and you are using custom CSS,
you&rsquo;ll need to ensure the custom CSS is available from that base URL.</p>
<h3 class="tag-core tag-ee" id="how-do-i-list-custom-widgets">How do I list custom widgets?<a class="headerlink" href="#how-do-i-list-custom-widgets" title="Permanent link">#</a></h3>
<p>In our SaaS, Grist has a list of pre-built custom widgets available in the UI.</p>
<p><img alt="Custom widget gallery" src="../images/widget-custom/custom-widget-gallery.png" /></p>
<p>You can have your self-managed installation offer the same list by
setting the following:</p>
<pre><code>docker run
  ...
  -e GRIST_WIDGET_LIST_URL=&quot;https://github.com/gristlabs/grist-widget/releases/download/latest/manifest.json&quot; \
  ...
</code></pre>
<p>This is optional. If you leave the variable unset, documents with
custom widgets will still work fine, but you&rsquo;ll need to enter a full
URL when adding custom widgets, rather than picking a widget from the
gallery.</p>
<p>You can make your own list of widgets available by forking
<a href="https://github.com/gristlabs/grist-widget">github.com/gristlabs/grist-widget</a>
or by manually preparing a <code>.json</code> file on a public server in the same
format as our <code>manifest.json</code>.</p>
<p>To customize the appearance of widgets in the gallery, the following
fields may be set in the <code>manifest.json</code>:</p>
<ul>
<li><code>name</code>: The widget title.</li>
<li><code>description</code>: An optional description shown below the widget title.</li>
<li><code>authors</code>: An optional list of one or more widget authors. The
 first author will be shown in the &ldquo;Developer&rdquo; field.</li>
<li><code>lastUpdatedAt</code>: The date shown in the &ldquo;Last updated&rdquo; field.</li>
</ul>
<h3 class="tag-ee" id="how-do-i-set-up-email-notifications">How do I set up email notifications?<a class="headerlink" href="#how-do-i-set-up-email-notifications" title="Permanent link">#</a></h3>
<p>In Grist SaaS, we send emails such as invitations to share a
document using <a href="https://sendgrid.com/">SendGrid</a>.
The same mechanism is available in Grist Enterprise. There is
not yet an equivalent in Grist Core.</p>
<p>You will need to set a SendGrid API key:</p>
<pre><code>docker run
  ...
  -e SENDGRID_API_KEY=SG.XXXXXXX.XXXXX \
  ...
</code></pre>
<p>You will need to make a file <code>config.json</code> available in the
root of the volume mapped to <code>/persist</code>. Its contents should be
as follows:</p>
<pre><code>{
  &quot;sendgrid&quot;: {
    &quot;api&quot;: {
      &quot;prefix&quot;: &quot;https://api.sendgrid.com/v3&quot;,
      &quot;enroll&quot;: &quot;/marketing/contacts&quot;,
      &quot;search&quot;: &quot;/marketing/contacts/search&quot;,
      &quot;searchByEmail&quot;: &quot;/marketing/contacts/search/emails&quot;,
      &quot;listRemove&quot;: &quot;/marketing/lists/{{id}}/contacts&quot;,
      &quot;send&quot;: &quot;/mail/send&quot;
    },
    &quot;address&quot;: {
      &quot;from&quot;: {
        &quot;email&quot;: &quot;&lt;the-email-address@mails-should-be-from&gt;&quot;,
        &quot;name&quot;: &quot;the name to show with email&quot;
      }
    },
    &quot;template&quot;: {
      &quot;invite&quot;: &quot;d-f9.....&quot;,
      &quot;billingManagerInvite&quot;: &quot;d-f9.....&quot;,
      &quot;memberChange&quot;: &quot;d-b3.....&quot;
    },
    &quot;list&quot;: {
      &quot;singleUserOnboarding&quot;: &quot;b22...&quot;
    },
    &quot;unsubscribeGroup&quot;: {
      &quot;invites&quot;: 19...,
      &quot;billingManagers&quot;: 19....
    }
  }
}
</code></pre>
<p>Here are the meanings of the keys in this file:</p>
<ul>
<li><code>sendgrid.api</code> - Values should remain unchanged from what’s
    defined in the sample. These control API versioning and
    endpoints. Grist currently targets v3 of SendGrid&rsquo;s web API.</li>
<li><code>sendgrid.address</code> - Should be set to a verified email address and
    name of a SendGrid sender. This controls the &ldquo;From&rdquo; address of all
    emails sent via SendGrid (e.g. invites sent on behalf of Grist
    users).</li>
<li><code>sendgrid.template</code> - Maps Grist actions to SendGrid email templates
    ids. These are for transactional emails that are sent as a result
    of some action occurring in Grist.</li>
<li><code>sendgrid.template.invite</code> - This is for emails sent to users that
    are invited to documents, workspaces, or sites.</li>
<li><code>sendgrid.template.memberChange</code> - This is for emails sent to
    billing managers when users are added/removed from sites.</li>
<li><code>sendgrid.list</code> - Maps Grist actions to SendGrid marketing list
    ids. These are for on-going automated emails that are sent to all
    users who are enrolled in a particular list.</li>
<li><code>sendgrid.list.singleUserOnboarding</code> - New Grist users are
    automatically added to this list on first-login. This is suitable
    for sending regular onboarding emails to users.</li>
<li><code>sendgrid.unsubscribeGroup</code> - Maps email types to SendGrid
    unsubscribe group ids. These are for allowing users to unsubscribe
    from receiving certain types of emails (via the link in the
    email).</li>
<li><code>sendgrid.unsubscribeGrist.invites</code> - If set, invite emails can be
    suppressed via the unsubscribe link in emails.</li>
<li><code>sendgrid.unsubscribeGrist.billingManagers</code> - If set, emails sent
    specifically to billing managers (e.g. membership changes) can be
    suppressed via the unsubscribe link in emails.</li>
</ul>
<p>For reference, there are example SendGrid templates in
<a href="./install/example-sendgrid-templates.zip">example-sendgrid-templates.zip</a>
based on an export of the SendGrid templates for our SaaS.</p>
<h3 class="tag-core tag-ee" id="how-do-i-add-more-python-packages">How do I add more python packages?<a class="headerlink" href="#how-do-i-add-more-python-packages" title="Permanent link">#</a></h3>
<p>The set of python packages available for use in formulas is currently
not configurable. You can add packages anyway if you are willing to
build and install your own version of the Grist.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Grist documents made on an installation with custom python packages 
will not bring those packages with them if copied to a different installation. 
Formulas using custom python packages will give errors when those packages are unavailable.</strong></p>
</div>
<p>Create an empty directory, and add the following into it, in a file called
<code>Dockerfile</code>:</p>
<pre><code>FROM gristlabs/grist  # or grist-oss or grist-omnibus

RUN \
  apt update &amp;&amp; apt install -y openssl &amp;&amp; \
  python3 -m pip install phonenumbers
</code></pre>
<p>Replace <code>phonenumbers</code> with the python package or packages you want
to install. You can now build your custom Grist image by running a
<code>docker build</code> in the directory with <code>Dockerfile</code> in it:</p>
<pre><code class="language-sh"># replace &quot;custom&quot; with a username or organization name.
docker build -t custom/grist .
</code></pre>
<p>Once done, you can use <code>custom/grist</code> in place of <code>gristlabs/grist(-ee)</code> in
<a href="./#how-do-i-install-grist">How do I install Grist</a>,
and your python library will now be available to import in formalas.</p>
<p>If you want the import done automatically, so you don&rsquo;t have to do it in
formulas, currently that requires a code change to
<a href="https://github.com/gristlabs/grist-core/blob/e95b2154051d5a8393bb005af49565d08117106a/sandbox/grist/gencode.py#L173">sandbox/grist/gencode.py</a>.
If you are comfortable making code changes, then the build instructions
of the <a href="https://github.com/gristlabs/grist-core/">grist-core</a> repository
are the place to start.</p>
<h3 class="tag-core tag-ee" id="how-do-i-configure-webhooks">How do I configure webhooks?<a class="headerlink" href="#how-do-i-configure-webhooks" title="Permanent link">#</a></h3>
<p>It is possible to use webhooks to enable integrations with external
services. The <a href="../webhooks/">webhooks documentation</a> has further details.</p>
<p>Note that when self-hosting, only external services allowed by the
<a href="https://github.com/gristlabs/grist-core?tab=readme-ov-file#environment-variables"><code>ALLOWED_WEBHOOK_DOMAINS</code> environment variable</a>
are allowed. <a href="../webhooks/#security">There are security concerns</a> with
allowing any domain, as internal Grist services may become vulnerable
to manipulation.</p>
<hr />
<h2 id="operations">Operations<a class="headerlink" href="#operations" title="Permanent link">#</a></h2>
<h3 class="tag-core tag-ee" id="what-are-the-hardware-requirements-for-hosting-grist">What are the hardware requirements for hosting Grist?<a class="headerlink" href="#what-are-the-hardware-requirements-for-hosting-grist" title="Permanent link">#</a></h3>
<p>For hosting Grist as a Linux container, here is a known good configuration
for a variety of moderate workloads:</p>
<ul>
<li>8GB RAM</li>
<li>2 CPUs</li>
<li>20GB disk</li>
</ul>
<p>Grist is packaged for the following CPU architectures:</p>
<ul>
<li>x86_64 (Sandy Bridge or later if sandboxing is enabled)</li>
<li>ARM64</li>
</ul>
<p>Every Grist document is a separate database, so it is difficult to
state absolute minimum requirements without knowing what documents will be
used. In tests, the <a href="https://templates.getgrist.com/doc/investment-research">Investment Research template</a>
runs comfortably served from a Grist container with:</p>
<ul>
<li>100MB RAM without sandboxing enabled.</li>
<li>200MB RAM with sandboxing enabled.</li>
<li>1 CPU.</li>
</ul>
<p>Memory and CPU requirements will scale with the number of documents
simultaneously in use by your team.</p>
<p><a href="./#how-do-i-sandbox-documents">Sandboxing</a> is an important issue in serving
Grist. It is achieved using <a href="https://gvisor.dev/">gvisor</a>. Sandboxing depends on
the availability of particular capabilities, and may be unavailable in
environments that deny or lack these capabilities. Grist sandboxing is known
to work in the following environments:</p>
<ul>
<li>Regular unprivileged docker containers with default security settings.</li>
<li>AWS EC2 instances.</li>
<li>AWS Fargate containers, with <code>SYS_PTRACE</code> set in <code>linuxParameters.capabilities</code>.</li>
</ul>
<p>Grist sandboxing has been reported to fail to initialize on older
Intel processors that do not support the <code>XSAVE</code> feature (supported by
Sandy Bridge and later).</p>
<h3 class="tag-core tag-ee" id="what-files-does-grist-store">What files does Grist store?<a class="headerlink" href="#what-files-does-grist-store" title="Permanent link">#</a></h3>
<p>When installed as a container, Grist expects to have access to a
persistent volume, or a directory shared with the host, in which it
stores everything that needs to last beyond a container restart.
Concretely, if you started Grist exactly as described in
<a href="./#how-do-i-install-grist">How do I install Grist</a>,
that directory would be <code>~/grist</code>. Here&rsquo;s what you would find there:</p>
<ul>
<li>
<p>A subdirectory called <code>docs</code>, containing <code>*.grist</code> files.
   These are Grist documents. Grist documents are SQLite databases,
   so you can inspect these files with the standard <code>sqlite3</code>
   utility. You can also upload them to another installation of
   Grist (such as our hosted service) and view/edit them there.
   If you move or rename these files, Grist will no longer recognize
   them.
   If <a href="./#how-do-i-set-up-snapshots">snapshot support</a>
   is configured, there will be extra files alongside each <code>.grist</code> file
   for tracking its storage state.</p>
</li>
<li>
<p>A file called <code>grist-sessions.db</code>. This contains information
   to support browser sessions with Grist. It is a SQLite database.
   If <a href="./#what-is-a-state-store">redis is configured</a>,
   that is used instead of this file.</p>
</li>
<li>
<p>A file called <code>home.sqlite3</code>. This contains information about
   teams, workspaces, and documents (metadata only, such as names,
   rather than document contents such as tables and cells). It is a
   SQLite database. It is called the
   <a href="./#what-is-a-home-database">home database</a>
   and if PostgreSQL is configured that is used instead of this file.</p>
</li>
<li>
<p>If using Grist Omnibus, there are other files, including:</p>
<ul>
<li>An <code>auth</code> directory, with a SQLite database for tracking login
   state, and a store of any certificates created.</li>
<li>A <code>param</code> directory, with secrets invented for the installation.</li>
</ul>
</li>
</ul>
<h3 class="tag-core tag-ee" id="what-is-a-home-database">What is a &ldquo;home&rdquo; database?<a class="headerlink" href="#what-is-a-home-database" title="Permanent link">#</a></h3>
<p>Grist stores metadata about users, documents, workspaces, etc in a
database called the &ldquo;home&rdquo; database. This does not contain the
material inside documents such as tables and columns, but does contain
document names and creation times, for example.  By default, Grist
will create a home database in an Sqlite file within the <code>/persist</code>
directory. To use instead a PostgreSQL database, create the
database along with a user with sufficient access to create tables,
and set the following variables:</p>
<ul>
<li>TYPEORM_TYPE - set to postgres</li>
<li>TYPEORM_DATABASE - set to name of database, e.g. home</li>
<li>TYPEORM_USERNAME - set to postgres username with rights to the database</li>
<li>TYPEORM_PASSWORD - set to postgres password with rights to the database</li>
<li>TYPEORM_HOST - set to hostname of database, e.g. grist.mumble.rds.amazonaws.com</li>
<li>TYPEORM_PORT - set to port number of database if not the default for PostgreSQL</li>
</ul>
<p>Grist is known to work with PostgreSQL from versions 10 through 16.
Recent versions, however, have enabled by default a JIT compiler that
is known to cause problems with Grist, which expresses itself as every
cell operation taking a few noticeable seconds. In case this happens,
PostgreSQL&rsquo;s JIT compiler should be disabled for Grist with the
command-line argument <code>-c jit=off</code> or via <a href="https://www.postgresql.org/docs/current/config-setting.html#CONFIG-SETTING-CONFIGURATION-FILE">other methods of changing
the PostgreSQL
configuration</a>.
In a <code>docker-compose.yaml</code> file, for example, the JIT compiler can be
disabled like this:</p>
<pre><code class="language-yaml">  postgres:
    image: postgres:latest
    command: -c jit=off
  # other config follows...
</code></pre>
<h3 class="tag-core tag-ee" id="what-is-a-state-store">What is a state store?<a class="headerlink" href="#what-is-a-state-store" title="Permanent link">#</a></h3>
<p>Grist can be configured to use Redis as an external state cache. For
most Grist functionality, this is optional. It is required for webhook
support, and recommended for snapshot support. To use, just set <code>REDIS_URL</code> to something like
<code>redis://hostname/N</code> where <code>N</code> is a redis database number.</p>
<pre><code>docker run
  ...
  -e REDIS_URL=&quot;redis://hostname/N&quot;
  ...
</code></pre>
<h3 class="tag-core tag-ee" id="how-do-i-set-up-snapshots">How do I set up snapshots?<a class="headerlink" href="#how-do-i-set-up-snapshots" title="Permanent link">#</a></h3>
<p>Grist&rsquo;s cloud storage feature allows automatic syncing of Grist
documents and document versions to an S3-compatible bucket
(available for all Grist versions) or to Azure storage (in Enterprise Grist).</p>
<p>Here is an example of running Grist locally, with snapshots stored
in a test MinIO instance:</p>
<pre><code class="language-sh"># Make a network
docker network create grist

# Start Redis in our network (recommended for snapshots)
docker run --rm --network grist --name redis redis

# Start MinIO in our network
docker run --rm --network grist --name minio \
  -v /tmp/minio:/data \
  -p 9000:9000 -p 9001:9001 \
  -e MINIO_ROOT_USER=grist -e MINIO_ROOT_PASSWORD=admingrist \
   -it minio/minio server /data -console-address &quot;:9001&quot;

# Visit http://localhost:9000 and set up a bucket called grist-docs.
# Make sure to enable versioning on the bucket.

# Hook Grist up to Redis and MinIO
docker run --rm --network grist \
  -e GRIST_DOCS_MINIO_ACCESS_KEY=grist \
  -e GRIST_DOCS_MINIO_SECRET_KEY=admingrist \
  -e GRIST_DOCS_MINIO_USE_SSL=0 \
  -e GRIST_DOCS_MINIO_BUCKET=grist-docs \
  -e GRIST_DOCS_MINIO_ENDPOINT=minio \
  -e GRIST_DOCS_MINIO_PORT=9000 \
  -e REDIS_URL=redis://redis \
  -v /tmp/grist:/persist -p 8484:8484 -it gristlabs/grist
</code></pre>
<p>Here are flags to make Grist talk to an AWS S3 bucket using the MinIO
client:</p>
<pre><code>  ...
  -e GRIST_DOCS_MINIO_ACCESS_KEY=$AWS_ACCESS_KEY_ID \
  -e GRIST_DOCS_MINIO_SECRET_KEY=$AWS_SECRET_ACCESS_KEY \
  -e GRIST_DOCS_MINIO_ENDPOINT=s3.amazonaws.com \
  -e GRIST_DOCS_MINIO_BUCKET=grist-docs \
  ...
</code></pre>
<p>As per <a href="https://min.io/docs/minio/linux/developers/go/API.html#:~:text=Default%20value%20is%20us-east,us-east-1">MinIO specs</a>.), the default bucket region is <code>us-east-1</code>. This default region can be overwritten using the <code>GRIST_DOCS_MINIO_BUCKET_REGION</code> flag.</p>
<p>For details, and other options, see <a href="../install/cloud-storage/">Cloud Storage</a>.</p>
<h3 class="tag-core" id="how-do-i-control-telemetry">How do I control telemetry?<a class="headerlink" href="#how-do-i-control-telemetry" title="Permanent link">#</a></h3>
<p>By default, Grist installations do not &ldquo;phone home&rdquo; to any central
service. It is useful to permit them to do so, to give Grist Labs some
limited insight into your usage, through measurements called
telemetry. This will help guide development, and draw attention to
self-managed users as a group.</p>
<p>The simplest way for an owner of a Grist installation to opt in to sending
telemetry to Grist Labs is to click the &ldquo;Opt in to Telemetry&rdquo; button on
the &ldquo;Support Grist&rdquo; banner on the main page of the installation.
If you do not wish to opt in, you can dismiss the banner.
The banner is shown only to the owner of the installation.
The owner of the installation is the user whose email address
matches the <code>GRIST_DEFAULT_EMAIL</code> environment variable (if set).</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="Self-hosted Telemetry" src="../images/newsletters/2023-07/core-telemetry-opt-in.png" /></em></span></p>
<p>You can control telemetry at any time using the &ldquo;Support Grist&rdquo;
page, if you are the owner of the installation.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="Control Telemetry" src="../images/support-page-link.png" /></em></span></p>
<p>Rather than using buttons to opt in to telemetry,
you may set the environment variable <code>GRIST_TELEMETRY_LEVEL</code> to
<code>limited</code>. This has the same effect as the &ldquo;Opt in to Telemetry&rdquo;
button. The <code>GRIST_TELEMETRY_LEVEL</code> environment variable,
if set, takes priority over any setting made interactively.
Recommended values are <code>limited</code> or <code>off</code>.</p>
<p>In either case, read <a href="../telemetry-limited/">limited telemetry</a> for exact details
of what data is sent, and <a href="../telemetry/">telemetry overview</a> for further explanation.
An interactive method for controlling telemetry is only
available for Grist Core builds currently. In all cases,
the default is to not send telemetry.</p>
<h3 class="tag-core tag-ee" id="how-do-i-upgrade-my-installation">How do I upgrade my installation?<a class="headerlink" href="#how-do-i-upgrade-my-installation" title="Permanent link">#</a></h3>
<p>We currently release new Grist Core and Enterprise images at
approximately weekly intervals. Grist handles any migrations that
may be needed to the documents or databases it uses.
Utilities such as <a href="https://containrrr.dev/watchtower/">Watchtower</a> can
keep your version of Grist up to date for you.</p>
<h3 class="tag-ee" id="what-if-i-need-high-availability">What if I need high availability?<a class="headerlink" href="#what-if-i-need-high-availability" title="Permanent link">#</a></h3>
<p>We have developed expertise in hosting very busy Grist installations,
with many users, including how to upgrade with minimal disruption,
and how to scale out to handle heavy load. We would be happy to help
Enterprise clients with needs of this nature.</p>

  <br>
</div>

<div class="feedback-box">
  <div class="feedback-box-title">Give Feedback</div>
  <div class="feedback-box-question">Was this article helpful?</div>
  <div class="feedback-box-buttons">
    <button class="feedback-box-button" data-rating="thumbsUp">&#x1F44D;</button>
    <button class="feedback-box-button" data-rating="thumbsDown">&#x1F44E;</button>
  </div>
  <div class="feedback-box-response">
    Thank you for letting us know!
  </div>
</div>

<script>
function initFeedbackButtons() {
  const serverUrl = "https://docs.getgrist.com";
  const feedbackBox = document.querySelector('.feedback-box');
  const buttons = document.querySelectorAll('.feedback-box-button');
  document.querySelector('.feedback-box-buttons').addEventListener('click', giveFeedback);

  async function giveFeedback(event) {
    const rating = event.target.dataset.rating;
    if (!rating) { return; }
    buttons.forEach(b => { b.disabled = true; });
    try {
      console.log("Sending rating to " + serverUrl + '/api/telemetry');
      const resp = await window.fetch(serverUrl + '/api/telemetry', makePayload(rating));
      if (!resp.ok) { throw new Error(resp.statusText); }
    } catch (err) {
      console.warn('Failed to report feedback', err);
      document.querySelector('.feedback-box-response').textContent = String(err);
    } finally {
      buttons.forEach(b => { b.disabled = false; });
      feedbackBox.classList.add('feedback-submitted');
    }
  }

  function makePayload(rating) {
    const url = window.location.href;
    return {
      method: 'POST',
      body: JSON.stringify({
        event: 'ratedHelpCenterArticle',
        metadata: {full: {url, rating}},
      }),
      credentials: 'same-origin',
      headers: {
        'Content-Type': 'application/json',
        'X-Requested-With': 'XMLHttpRequest',
      },
    };
  }
}
initFeedbackButtons();
</script><footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/gristlabs/grist-help/edit/master/docs/self-managed.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

    </div>
  </div>
</div>

<div class="modal fade" id="video-modal" tabindex="-1" role="dialog" aria-labelledby="video-modal" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <div style="position:relative; padding-bottom:56.25%; margin-top: 32px;">
          <iframe src="" allowfullscreen style="position:absolute; left:0; top:0; width:100%; height:100%"></iframe>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>