<!DOCTYPE html>
<html lang="fr">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
      <meta name="description" content="Tutorials and resources for Grist, to help you organize your data, your way.">
      <meta property="og:description" content="Tutorials and resources for Grist, to help you organize your data, your way.">
    
    
    <link rel="canonical" href="https://support.getgrist.com/code/modules/grist_plugin_api/">
    <link rel="shortcut icon" href="/images/favicon.png">
    <link rel="me" href="https://fosstodon.org/@grist">
    <meta name="thumbnail" content="https://support.getgrist.com/images/favicon.png">
    <meta property="og:image" content="https://support.getgrist.com/images/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>grist-plugin-api - Grist Help Center</title>
    
  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5FDHKQ9');</script>
  <!-- End Google Tag Manager -->
    <link href="/css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="/css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="/css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/highlight.css">
    <link href="../../../css/grist.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="/js/jquery-3.2.1.min.js"></script>
    <script src="/js/bootstrap-3.3.7.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script src="/js/elasticlunr.min.js"></script>
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
    </script>
    <script src="/js/base.js"></script>
      <script src="../../../js/grist.js"></script>
    <script type="text/javascript">!function(e,t,n){function a(){var e=t.getElementsByTagName("script")[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://beacon-v2.helpscout.net",e.parentNode.insertBefore(n,e)}if(e.Beacon=n=function(t,n,a){e.Beacon.readyQueue.push({method:t,options:n,data:a})},n.readyQueue=[],"complete"===t.readyState)return a();e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}(window,document,window.Beacon||function(){});</script>
<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function() {
    window.Beacon('config', {display: { style: 'icon' }});
    window.Beacon('init', 'fc61df2a-664b-4422-b24f-964bd0cb6d53');
    window.Beacon('suggest', [
      {url: 'https://community.getgrist.com/', text: 'Community Forum'},
      {url: 'https://docs.getgrist.com/p/templates', text: 'Templates'},
      {url: 'https://github.com/gristlabs/grist-core/projects/1', text: 'Roadmap'},
    ]);

    fetch('https://api.getgrist.com/api/session/access/all', {credentials: 'include'})
      .then(function(resp) { return resp.json(); })
      .then(function(status) {
        // If there's exactly two orgs, will use the team name for the non-merged personal
        // org as the company name.  Otherwise don't worry about setting company name.
        var org = undefined;
        if (status.orgs.length === 2) {
          org = status.orgs[0].owner ? status.orgs[1] : status.orgs[0];
        }
        // If there's one user account available, fill it in silently; otherwise use
        // the first one and prefill fields but let user see them so they can override
        // them.  If testing this, be aware that if 'identify' was called previously,
        // it will be cached in local storage and used even if it is not set this time
        // around.
        var user = status.users[0];
        var identifyOrPrefill = status.users.length === 1 ? 'identify' : 'prefill';
        if (user && !user.anonymous) {
          var userObj = {};
          if (user.email) { userObj.email = user.email; }
          if (user.name) { userObj.name = user.name; }
          if (user.picture) { userObj.avatar = user.picture; }
          if (user.helpScoutSignature) { userObj.signature = user.helpScoutSignature; }
          if (org && org.name) { userObj.company = org.name; }
          window.Beacon(identifyOrPrefill, userObj);
        }
      });
  });
</script> 
</head>

<body>
  
  

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5FDHKQ9"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

<nav class="navbar wm-page-top-frame">
  <div class="container-fluid wm-top-container">
    
    <div class="wm-top-tool pull-right wm-vcenter">
      <form class="dropdown wm-vcentered" id="wm-search-form" action="/search.html" method="GET">
        
        <button id="wm-search-show" class="btn btn-sm btn-default" type="submit"
          ><i class="fa fa-search" aria-hidden="true"></i></button>

        <div class="input-group input-group-sm wm-top-search">
          <input type="text" name="q" class="form-control" id="mkdocs-search-query" placeholder="Search" autocomplete="off">
          <span class="input-group-btn" role="search">
            
            <button class="btn btn-default dropdown-toggle collapse" data-toggle="dropdown" type="button"><span class="caret"></span></button>
            <ul id="mkdocs-search-results" class="dropdown-menu dropdown-menu-right"></ul>
            <button id="wm-search-go" class="btn btn-default" type="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
          </span>
        </div>
      </form>
    </div>

    
    <div class="wm-top-tool wm-vcenter pull-right wm-small-left wm-top-toc-button">
      <button id="wm-toc-button" type="button" class="btn btn-sm btn-default wm-vcentered"><i class="fa fa-th-list" aria-hidden="true"></i></button>
    </div>
    <select id="wm-language-select" class="wm-top-tool wm-vcenter pull-right wm-small-left home-top-tool-selector" name="lang"
      
      >
      
      <option value="/" >en - English</option>
      
      <option value="/fr/" selected>fr - fran√ßais</option>
      
    </select>

    
    

    
    
      <a href="https://community.getgrist.com" class="wm-top-tool wm-top-link pull-right wm-vcenter home-link ">
        <div class="wm-top-title">
          Community
        </div>
      </a>
    
      <a href="https://www.getgrist.com" class="wm-top-tool wm-top-link pull-right wm-vcenter home-link wm-small-hide">
        <div class="wm-top-title">
          Back to Grist
        </div>
      </a>
    

    
    <a href="../../.." class="wm-top-brand wm-top-link wm-vcenter">
      
        <img class="wm-top-logo" src="../../../images/logo.png"/>
      
      <div class="wm-top-title">
        Grist Help Center<br>
        
          <span class="wm-top-version">1.0.2-dev</span>
        
      </div>
    </a>
  </div>
</nav>

<div id="main-content">
  
<nav class="wm-toc-pane">
  
  <ul class="wm-toctree">
        <li class="wm-toc-li wm-toc-lev1 "><a href="../../.." class="wm-article-link wm-toc-text">Welcome to Grist</a>

    
</li>
        <li class="wm-toc-li wm-toc-lev1 "><a href="../../../FAQ/" class="wm-article-link wm-toc-text">FAQ</a>

    
</li>
        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">How-to tutorials</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../lightweight-crm/" class="wm-article-link wm-toc-text">Create your own CRM</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../investment-research/" class="wm-article-link wm-toc-text">Analyze and visualize</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../afterschool-program/" class="wm-article-link wm-toc-text">Manage business data</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Managing documents</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../creating-doc/" class="wm-article-link wm-toc-text">Creating a document</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../sharing/" class="wm-article-link wm-toc-text">Sharing a document</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../copying-docs/" class="wm-article-link wm-toc-text">Copying documents</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../imports/" class="wm-article-link wm-toc-text">Importing more data</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../exports/" class="wm-article-link wm-toc-text">Exports & backups</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../automatic-backups/" class="wm-article-link wm-toc-text">Automatic backups</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../document-history/" class="wm-article-link wm-toc-text">Document history</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../workspaces/" class="wm-article-link wm-toc-text">Workspaces</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Pages and tables</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../enter-data/" class="wm-article-link wm-toc-text">Entering data</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../page-widgets/" class="wm-article-link wm-toc-text">Pages & widgets</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../raw-data/" class="wm-article-link wm-toc-text">Raw data</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../search-sort-filter/" class="wm-article-link wm-toc-text">Search, sort & filter</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../widget-table/" class="wm-article-link wm-toc-text">Table widget</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../widget-card/" class="wm-article-link wm-toc-text">Card & card list</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../widget-form/" class="wm-article-link wm-toc-text">Form</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../widget-chart/" class="wm-article-link wm-toc-text">Chart</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../widget-calendar/" class="wm-article-link wm-toc-text">Calendar</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../widget-custom/" class="wm-article-link wm-toc-text">Custom</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../linking-widgets/" class="wm-article-link wm-toc-text">Linking widgets</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../custom-layouts/" class="wm-article-link wm-toc-text">Custom layouts</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../record-cards/" class="wm-article-link wm-toc-text">Record cards</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../summary-tables/" class="wm-article-link wm-toc-text">Summary tables</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../on-demand-tables/" class="wm-article-link wm-toc-text">On-demand tables</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Columns and data types</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../col-types/" class="wm-article-link wm-toc-text">Columns & types</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../col-refs/" class="wm-article-link wm-toc-text">Reference columns</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../conditional-formatting/" class="wm-article-link wm-toc-text">Conditional formatting</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../timestamps/" class="wm-article-link wm-toc-text">Timestamp columns</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../authorship/" class="wm-article-link wm-toc-text">Authorship columns</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../col-transform/" class="wm-article-link wm-toc-text">Transformations</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Using formulas</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../formulas/" class="wm-article-link wm-toc-text">Intro to formulas</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../references-lookups/" class="wm-article-link wm-toc-text">References and lookups</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../dates/" class="wm-article-link wm-toc-text">Working with dates</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../formula-timer/" class="wm-article-link wm-toc-text">Formula timer</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../python/" class="wm-article-link wm-toc-text">Python versions</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../functions/" class="wm-article-link wm-toc-text">Function reference</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../formula-cheat-sheet/" class="wm-article-link wm-toc-text">Formula cheat sheet</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">AI Formula Assistant</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../ai-assistant/" class="wm-article-link wm-toc-text">AI Formula Assistant</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Team sites</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../teams/" class="wm-article-link wm-toc-text">Creating team sites</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../team-sharing/" class="wm-article-link wm-toc-text">Sharing team sites</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Access rules</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../access-rules/" class="wm-article-link wm-toc-text">Intro to access rules</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Integrations</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../rest-api/" class="wm-article-link wm-toc-text">REST API usage</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../api/" class="wm-article-link wm-toc-text">REST API reference</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../integrators/" class="wm-article-link wm-toc-text">Integrator services</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../embedding/" class="wm-article-link wm-toc-text">Embedding</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Plugin API</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="../../" class="wm-article-link wm-toc-text">Intro to Plugin API</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3  wm-current wm-page-toc-opener wm-page-toc-open"><a href="./" class="wm-article-link wm-toc-text">grist-plugin-api</a>

    
    
    <li class="wm-page-toc wm-toc-li-nested collapse in">
      <ul class="wm-toctree">
        
          <li class="wm-toc-li">
            <a class="wm-article-link wm-page-toc-text" href="#_top">
              Module: grist-plugin-api
            </a>
          </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#table-of-contents">
                Table of contents
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#type-aliases_1">
                Type Aliases
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#variables_1">
                Variables
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#functions_1">
                Functions
              </a>
            </li>
        
      </ul>
    </li>
    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="/... | flat | **/code/modules/**" class="wm-article-link wm-toc-text">AWESOME_PAGES_REST</a>

    
</li>
  </ul>
</li>

  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Self-managed</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../self-managed/" class="wm-article-link wm-toc-text">Self-managed Grist</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../install/saml/" class="wm-article-link wm-toc-text">SAML</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../install/oidc/" class="wm-article-link wm-toc-text">OIDC</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../install/forwarded-headers/" class="wm-article-link wm-toc-text">Forwarded headers</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../install/cloud-storage/" class="wm-article-link wm-toc-text">Cloud storage</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../install/grist-connect/" class="wm-article-link wm-toc-text">GristConnect</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../install/aws-marketplace/" class="wm-article-link wm-toc-text">AWS Marketplace</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Telemetry</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="../../../telemetry/" class="wm-article-link wm-toc-text">Overview of telemetry</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../../../telemetry-limited/" class="wm-article-link wm-toc-text">Limited telemetry</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../../../telemetry-full/" class="wm-article-link wm-toc-text">Full telemetry</a>

    
</li>
  </ul>
</li>

  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">News & updates</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/" class="wm-article-link wm-toc-text">Newsletters</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2024-06/" class="wm-article-link wm-toc-text">2024/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2024-05/" class="wm-article-link wm-toc-text">2024/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2024-04/" class="wm-article-link wm-toc-text">2024/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2024-03/" class="wm-article-link wm-toc-text">2024/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2024-02/" class="wm-article-link wm-toc-text">2024/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2024-01/" class="wm-article-link wm-toc-text">2024/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-12/" class="wm-article-link wm-toc-text">2023/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-11/" class="wm-article-link wm-toc-text">2023/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-10/" class="wm-article-link wm-toc-text">2023/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-09/" class="wm-article-link wm-toc-text">2023/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-08/" class="wm-article-link wm-toc-text">2023/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-07/" class="wm-article-link wm-toc-text">2023/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-06/" class="wm-article-link wm-toc-text">2023/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-05/" class="wm-article-link wm-toc-text">2023/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-04/" class="wm-article-link wm-toc-text">2023/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-03/" class="wm-article-link wm-toc-text">2023/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-02/" class="wm-article-link wm-toc-text">2023/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2023-01/" class="wm-article-link wm-toc-text">2023/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-12/" class="wm-article-link wm-toc-text">2022/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-11/" class="wm-article-link wm-toc-text">2022/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-10/" class="wm-article-link wm-toc-text">2022/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-09/" class="wm-article-link wm-toc-text">2022/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-08/" class="wm-article-link wm-toc-text">2022/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-07/" class="wm-article-link wm-toc-text">2022/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-06/" class="wm-article-link wm-toc-text">2022/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-05/" class="wm-article-link wm-toc-text">2022/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-04/" class="wm-article-link wm-toc-text">2022/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-03/" class="wm-article-link wm-toc-text">2022/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-02/" class="wm-article-link wm-toc-text">2022/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2022-01/" class="wm-article-link wm-toc-text">2022/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-12/" class="wm-article-link wm-toc-text">2021/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-11/" class="wm-article-link wm-toc-text">2021/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-10/" class="wm-article-link wm-toc-text">2021/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-09/" class="wm-article-link wm-toc-text">2021/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-08/" class="wm-article-link wm-toc-text">2021/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-07/" class="wm-article-link wm-toc-text">2021/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-06/" class="wm-article-link wm-toc-text">2021/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-05/" class="wm-article-link wm-toc-text">2021/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-04/" class="wm-article-link wm-toc-text">2021/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-03/" class="wm-article-link wm-toc-text">2021/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-02/" class="wm-article-link wm-toc-text">2021/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2021-01/" class="wm-article-link wm-toc-text">2021/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2020-12/" class="wm-article-link wm-toc-text">2020/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2020-11/" class="wm-article-link wm-toc-text">2020/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2020-10/" class="wm-article-link wm-toc-text">2020/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2020-09/" class="wm-article-link wm-toc-text">2020/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2020-08/" class="wm-article-link wm-toc-text">2020/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2020-07/" class="wm-article-link wm-toc-text">2020/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2020-06/" class="wm-article-link wm-toc-text">2020/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../newsletters/2020-05/" class="wm-article-link wm-toc-text">2020/05</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">More examples</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/" class="wm-article-link wm-toc-text">More examples</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2020-06-credit-card/" class="wm-article-link wm-toc-text">Credit card expenses</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2020-06-book-club/" class="wm-article-link wm-toc-text">Book club links</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2020-07-email-compose/" class="wm-article-link wm-toc-text">Prefill emails</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2020-08-invoices/" class="wm-article-link wm-toc-text">Prepare invoices</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2020-09-payroll/" class="wm-article-link wm-toc-text">Track payroll</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2020-10-print-labels/" class="wm-article-link wm-toc-text">Print mailing labels</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2020-11-treasure-hunt/" class="wm-article-link wm-toc-text">Treasure hunt</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2020-12-map/" class="wm-article-link wm-toc-text">Map</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2021-01-tasks/" class="wm-article-link wm-toc-text">Task management</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2021-03-leads/" class="wm-article-link wm-toc-text">Lead list</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2021-04-link-keys/" class="wm-article-link wm-toc-text">Link keys guide</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2021-05-reference-columns/" class="wm-article-link wm-toc-text">Reference columns guide</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2021-06-timesheets/" class="wm-article-link wm-toc-text">Summary tables guide</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2021-07-auto-stamps/" class="wm-article-link wm-toc-text">Time and user stamps</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2023-01-acl-memo/" class="wm-article-link wm-toc-text">Restrict duplicate records</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../examples/2023-07-proposals-contracts/" class="wm-article-link wm-toc-text">Proposals & contracts</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Reference</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../keyboard-shortcuts/" class="wm-article-link wm-toc-text">Keyboard shortcuts</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="/functions/" class="wm-article-link wm-toc-text">Function reference</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../limits/" class="wm-article-link wm-toc-text">Limits</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../data-security/" class="wm-article-link wm-toc-text">Data security</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../browser-support/" class="wm-article-link wm-toc-text">Browser support</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../../../glossary/" class="wm-article-link wm-toc-text">Glossary</a>

    
</li>
  </ul>
</li>

  </ul>

  <div class="wm-toc-quick-links">
    <div class="wm-toc-quick-links-header"><span class="wm-toc-text">Quick Links</span></div>
    <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2">
        <a href="https://community.getgrist.com/" class="wm-quick-link wm-toc-text">Community</a>
      </li>
      <li class="wm-toc-li wm-toc-lev2">
        <a href="https://docs.getgrist.com/p/templates" class="wm-quick-link wm-toc-text">Templates</a>
      </li>
      <li class="wm-toc-li wm-toc-lev2">
        <a href="https://github.com/gristlabs/grist-core/projects/1" class="wm-quick-link wm-toc-text">Roadmap</a>
      </li>
    </ul>
    <ul class="wm-toctree wm-toc-repo">
      <li class="wm-toc-li wm-toc-lev2">
      <a class="wm-quick-link wm-toc-text" href="https://github.com/gristlabs/grist-help">
        <i class="fa fa-github"></i>

        Edit on GitHub
      </a>
      </li>
    </ul>

  </div>

</nav>

  <script>
    // Immediately expand parent items to show the selected page.
    $('.wm-current')
      .parents('.wm-toc-li-nested').addClass('collapse in')
      .prev('.wm-toc-opener').addClass('wm-toc-open');
  </script>
  <div class="wm-content-pane">
    <div class="wm-article">

<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../../self-managed/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../../self-managed/" class="btn btn-xs btn-link">
        Self-managed Grist
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../" class="btn btn-xs btn-link">
        Intro to Plugin API
      </a>
    </div>
    
  </div>

    

    <h1 id="module-grist-plugin-api">Module: grist-plugin-api<a class="headerlink" href="#module-grist-plugin-api" title="Permanent link">#</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Nous commen√ßons tout juste √† traduire la documentation pour cette langue, d√©sol√© !</p>
<p>Nous affichons des pages traduites partiellement afin de suivre l&rsquo;avancement.</p>
<p>Cette page n&rsquo;est pas encore traduite. Mais la bonne nouvelle est que <a class="internal-link" href="https://hosted.weblate.org/engage/grist-help/" target="_blank">vous pouvez rejoindre la communaut√© de traduction pour nous aider üëã</a>.</p>
</div>
<h2 id="table-of-contents">Table of contents<a class="headerlink" href="#table-of-contents" title="Permanent link">#</a></h2>
<h3 id="interfaces">Interfaces<a class="headerlink" href="#interfaces" title="Permanent link">#</a></h3>
<ul>
<li><a href="../interfaces/grist_plugin_api.AccessTokenOptions.md">AccessTokenOptions</a></li>
<li><a href="../interfaces/grist_plugin_api.AccessTokenResult.md">AccessTokenResult</a></li>
<li><a href="../interfaces/grist_plugin_api.ColumnToMap.md">ColumnToMap</a></li>
<li><a href="../interfaces/grist_plugin_api.CursorPos.md">CursorPos</a></li>
<li><a href="../interfaces/grist_plugin_api.CustomSectionAPI.md">CustomSectionAPI</a></li>
<li><a href="../interfaces/grist_plugin_api.FetchSelectedOptions.md">FetchSelectedOptions</a></li>
<li><a href="../interfaces/grist_plugin_api.GristColumn.md">GristColumn</a></li>
<li><a href="../interfaces/grist_plugin_api.GristDocAPI.md">GristDocAPI</a></li>
<li><a href="../interfaces/grist_plugin_api.GristTable.md">GristTable</a></li>
<li><a href="../interfaces/grist_plugin_api.GristView.md">GristView</a></li>
<li><a href="../interfaces/grist_plugin_api.InteractionOptions.md">InteractionOptions</a></li>
<li><a href="../interfaces/grist_plugin_api.InteractionOptionsRequest.md">InteractionOptionsRequest</a></li>
<li><a href="../interfaces/grist_plugin_api.ParseOptionSchema.md">ParseOptionSchema</a></li>
<li><a href="../interfaces/grist_plugin_api.ParseOptions.md">ParseOptions</a></li>
<li><a href="../interfaces/grist_plugin_api.ReadyPayload.md">ReadyPayload</a></li>
<li><a href="../interfaces/grist_plugin_api.RenderOptions.md">RenderOptions</a></li>
<li><a href="../interfaces/grist_plugin_api.WidgetAPI.md">WidgetAPI</a></li>
<li><a href="../interfaces/grist_plugin_api.WidgetColumnMap.md">WidgetColumnMap</a></li>
</ul>
<h3 id="type-aliases">Type Aliases<a class="headerlink" href="#type-aliases" title="Permanent link">#</a></h3>
<ul>
<li><a href="./#columnstomap">ColumnsToMap</a></li>
<li><a href="./#uirowid">UIRowId</a></li>
</ul>
<h3 id="variables">Variables<a class="headerlink" href="#variables" title="Permanent link">#</a></h3>
<ul>
<li><a href="./#checkers">checkers</a></li>
<li><a href="./#docapi">docApi</a></li>
<li><a href="./#sectionapi">sectionApi</a></li>
<li><a href="./#selectedtable">selectedTable</a></li>
<li><a href="./#viewapi">viewApi</a></li>
<li><a href="./#widgetapi">widgetApi</a></li>
</ul>
<h3 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link">#</a></h3>
<ul>
<li><a href="./#allowselectby">allowSelectBy</a></li>
<li><a href="./#clearoptions">clearOptions</a></li>
<li><a href="./#fetchselectedrecord">fetchSelectedRecord</a></li>
<li><a href="./#fetchselectedtable">fetchSelectedTable</a></li>
<li><a href="./#getaccesstoken">getAccessToken</a></li>
<li><a href="./#getoption">getOption</a></li>
<li><a href="./#getoptions">getOptions</a></li>
<li><a href="./#gettable">getTable</a></li>
<li><a href="./#mapcolumnnames">mapColumnNames</a></li>
<li><a href="./#mapcolumnnamesback">mapColumnNamesBack</a></li>
<li><a href="./#on">on</a></li>
<li><a href="./#onnewrecord">onNewRecord</a></li>
<li><a href="./#onoptions">onOptions</a></li>
<li><a href="./#onrecord">onRecord</a></li>
<li><a href="./#onrecords">onRecords</a></li>
<li><a href="./#ready">ready</a></li>
<li><a href="./#setcursorpos">setCursorPos</a></li>
<li><a href="./#setoption">setOption</a></li>
<li><a href="./#setoptions">setOptions</a></li>
<li><a href="./#setselectedrows">setSelectedRows</a></li>
</ul>
<h2 id="type-aliases_1">Type Aliases<a class="headerlink" href="#type-aliases_1" title="Permanent link">#</a></h2>
<h3 id="columnstomap">ColumnsToMap<a class="headerlink" href="#columnstomap" title="Permanent link">#</a></h3>
<p>∆¨ <strong>ColumnsToMap</strong>: (<code>string</code> | <a href="../interfaces/grist_plugin_api.ColumnToMap.md"><code>ColumnToMap</code></a>)[]</p>
<p>Tells Grist what columns a Custom Widget expects and allows users to map between existing column names
and those requested by the Custom Widget.</p>
<hr />
<h3 id="uirowid">UIRowId<a class="headerlink" href="#uirowid" title="Permanent link">#</a></h3>
<p>∆¨ <strong>UIRowId</strong>: <code>number</code> | <code>"new"</code></p>
<p>Represents the id of a row in a table. The value of the <code>id</code> column. Might be a number or &lsquo;new&rsquo; value for a new row.</p>
<h2 id="variables_1">Variables<a class="headerlink" href="#variables_1" title="Permanent link">#</a></h2>
<h3 id="checkers">checkers<a class="headerlink" href="#checkers" title="Permanent link">#</a></h3>
<p>‚Ä¢ <code>Const</code> <strong>checkers</strong>: <code>Pick</code>&lt;<code>ICheckerSuite</code>, <code>"CustomSectionAPI"</code> | <code>"ParseOptions"</code> | <code>"ParseFileResult"</code> | <code>"FileSource"</code> | <code>"ParseOptionSchema"</code> | <code>"GristTables"</code> | <code>"EditOptionsAPI"</code> | <code>"ParseFileAPI"</code> | <code>"RenderTarget"</code> | <code>"RenderOptions"</code> | <code>"ComponentKind"</code> | <code>"GristAPI"</code> | <code>"GristDocAPI"</code> | <code>"GristView"</code> | <code>"GristColumn"</code> | <code>"GristTable"</code> | <code>"ImportSourceAPI"</code> | <code>"ImportProcessorAPI"</code> | <code>"ImportSource"</code> | <code>"FileContent"</code> | <code>"FileListItem"</code> | <code>"URL"</code> | <code>"InternalImportSourceAPI"</code> | <code>"Storage"</code> | <code>"WidgetAPI"</code>></p>
<p>We also create and export a global checker object that includes all of the types above.</p>
<hr />
<h3 id="docapi">docApi<a class="headerlink" href="#docapi" title="Permanent link">#</a></h3>
<p>‚Ä¢ <code>Const</code> <strong>docApi</strong>: <a href="../interfaces/grist_plugin_api.GristDocAPI.md"><code>GristDocAPI</code></a> &amp; <a href="../interfaces/grist_plugin_api.GristView.md"><code>GristView</code></a></p>
<p>A collection of methods for fetching document data. The
fetchSelectedTable and fetchSelectedRecord methods are
overridden to decode data by default.</p>
<hr />
<h3 id="sectionapi">sectionApi<a class="headerlink" href="#sectionapi" title="Permanent link">#</a></h3>
<p>‚Ä¢ <code>Const</code> <strong>sectionApi</strong>: <a href="../interfaces/grist_plugin_api.CustomSectionAPI.md"><code>CustomSectionAPI</code></a></p>
<p>Interface for the mapping of a custom widget.</p>
<hr />
<h3 id="selectedtable">selectedTable<a class="headerlink" href="#selectedtable" title="Permanent link">#</a></h3>
<p>‚Ä¢ <code>Const</code> <strong>selectedTable</strong>: <a href="../interfaces/TableOperations.TableOperations.md"><code>TableOperations</code></a></p>
<p>Get the current selected table (for custom widgets).</p>
<hr />
<h3 id="viewapi">viewApi<a class="headerlink" href="#viewapi" title="Permanent link">#</a></h3>
<p>‚Ä¢ <code>Const</code> <strong>viewApi</strong>: <a href="../interfaces/grist_plugin_api.GristView.md"><code>GristView</code></a></p>
<p>Interface for the records backing a custom widget.</p>
<hr />
<h3 id="widgetapi">widgetApi<a class="headerlink" href="#widgetapi" title="Permanent link">#</a></h3>
<p>‚Ä¢ <code>Const</code> <strong>widgetApi</strong>: <a href="../interfaces/grist_plugin_api.WidgetAPI.md"><code>WidgetAPI</code></a></p>
<p>Interface for the state of a custom widget.</p>
<h2 id="functions_1">Functions<a class="headerlink" href="#functions_1" title="Permanent link">#</a></h2>
<h3 id="allowselectby">allowSelectBy<a class="headerlink" href="#allowselectby" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>allowSelectBy</strong>(): <code>Promise</code>&lt;<code>void</code>></p>
<p>Deprecated now. It was used for filtering selected table by <code>setSelectedRows</code> method.
Now the preferred way it to use ready message.</p>
<h4 id="returns">Returns<a class="headerlink" href="#returns" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<code>void</code>></p>
<hr />
<h3 id="clearoptions">clearOptions<a class="headerlink" href="#clearoptions" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>clearOptions</strong>(): <code>Promise</code>&lt;<code>void</code>></p>
<p>Clears all the options.</p>
<h4 id="returns_1">Returns<a class="headerlink" href="#returns_1" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<code>void</code>></p>
<hr />
<h3 id="fetchselectedrecord">fetchSelectedRecord<a class="headerlink" href="#fetchselectedrecord" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>fetchSelectedRecord</strong>(<code>rowId</code>, <code>options?</code>): <code>Promise</code>&lt;<code>any</code>></p>
<p>Same as <a href="../interfaces/grist_plugin_api.GristView.md#fetchselectedrecord">GristView.fetchSelectedRecord</a>,
but the option <code>keepEncoded</code> is <code>false</code> by default.</p>
<h4 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>rowId</code></td>
<td align="left"><code>number</code></td>
</tr>
<tr>
<td align="left"><code>options</code></td>
<td align="left"><a href="../interfaces/grist_plugin_api.FetchSelectedOptions.md"><code>FetchSelectedOptions</code></a></td>
</tr>
</tbody>
</table>
<h4 id="returns_2">Returns<a class="headerlink" href="#returns_2" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<code>any</code>></p>
<hr />
<h3 id="fetchselectedtable">fetchSelectedTable<a class="headerlink" href="#fetchselectedtable" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>fetchSelectedTable</strong>(<code>options?</code>): <code>Promise</code>&lt;<code>any</code>></p>
<p>Same as <a href="../interfaces/grist_plugin_api.GristView.md#fetchselectedtable">GristView.fetchSelectedTable</a>,
but the option <code>keepEncoded</code> is <code>false</code> by default.</p>
<h4 id="parameters_1">Parameters<a class="headerlink" href="#parameters_1" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>options</code></td>
<td align="left"><a href="../interfaces/grist_plugin_api.FetchSelectedOptions.md"><code>FetchSelectedOptions</code></a></td>
</tr>
</tbody>
</table>
<h4 id="returns_3">Returns<a class="headerlink" href="#returns_3" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<code>any</code>></p>
<hr />
<h3 id="getaccesstoken">getAccessToken<a class="headerlink" href="#getaccesstoken" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>getAccessToken</strong>(<code>options?</code>): <code>Promise</code>&lt;<a href="../interfaces/grist_plugin_api.AccessTokenResult.md"><code>AccessTokenResult</code></a>></p>
<p>Get an access token, for making API calls outside of the custom widget
API. There is no caching of tokens. The returned token can
be used to authorize regular REST API calls that access the content of the
document. For example, in a custom widget for a table with a <code>Photos</code> column
containing attachments, the following code will update the <code>src</code> of an
image with id <code>the_image</code> to show the attachment:</p>
<pre><code class="js">grist.onRecord(async (record) =&gt; {
  const tokenInfo = await grist.docApi.getAccessToken({readOnly: true});
  const img = document.getElementById('the_image');
  const id = record.Photos[0];  // get an id of an attachment - there could be several
                                // in a cell, for this example we just take the first.
  const src = `${tokenInfo.baseUrl}/attachments/${id}/download?auth=${tokenInfo.token}`;
  img.setAttribute('src', src);
});
</code></pre>

<h4 id="parameters_2">Parameters<a class="headerlink" href="#parameters_2" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>options?</code></td>
<td align="left"><a href="../interfaces/grist_plugin_api.AccessTokenOptions.md"><code>AccessTokenOptions</code></a></td>
</tr>
</tbody>
</table>
<h4 id="returns_4">Returns<a class="headerlink" href="#returns_4" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<a href="../interfaces/grist_plugin_api.AccessTokenResult.md"><code>AccessTokenResult</code></a>></p>
<hr />
<h3 id="getoption">getOption<a class="headerlink" href="#getoption" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>getOption</strong>(<code>key</code>): <code>Promise</code>&lt;<code>any</code>></p>
<p>Get single value from Widget options object.</p>
<h4 id="parameters_3">Parameters<a class="headerlink" href="#parameters_3" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>key</code></td>
<td align="left"><code>string</code></td>
</tr>
</tbody>
</table>
<h4 id="returns_5">Returns<a class="headerlink" href="#returns_5" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<code>any</code>></p>
<hr />
<h3 id="getoptions">getOptions<a class="headerlink" href="#getoptions" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>getOptions</strong>(): <code>Promise</code>&lt;<code>null</code> | <code>object</code>></p>
<p>Gets all options stored by the widget. Options are stored as plain JSON object.</p>
<h4 id="returns_6">Returns<a class="headerlink" href="#returns_6" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<code>null</code> | <code>object</code>></p>
<hr />
<h3 id="gettable">getTable<a class="headerlink" href="#gettable" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>getTable</strong>(<code>tableId?</code>): <a href="../interfaces/TableOperations.TableOperations.md"><code>TableOperations</code></a></p>
<p>Get access to a table in the document. If no tableId specified, this
will use the current selected table (for custom widgets).
If a table does not exist, there will be no error until an operation
on the table is attempted.</p>
<h4 id="parameters_4">Parameters<a class="headerlink" href="#parameters_4" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>tableId?</code></td>
<td align="left"><code>string</code></td>
</tr>
</tbody>
</table>
<h4 id="returns_7">Returns<a class="headerlink" href="#returns_7" title="Permanent link">#</a></h4>
<p><a href="../interfaces/TableOperations.TableOperations.md"><code>TableOperations</code></a></p>
<hr />
<h3 id="mapcolumnnames">mapColumnNames<a class="headerlink" href="#mapcolumnnames" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>mapColumnNames</strong>(<code>data</code>, <code>options?</code>): <code>any</code></p>
<p>Renames columns in the result using columns mapping configuration passed in ready method.
Returns null if not all required columns were mapped or not widget doesn&rsquo;t support
custom column mapping.</p>
<h4 id="parameters_5">Parameters<a class="headerlink" href="#parameters_5" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>data</code></td>
<td align="left"><code>any</code></td>
</tr>
<tr>
<td align="left"><code>options?</code></td>
<td align="left"><code>Object</code></td>
</tr>
<tr>
<td align="left"><code>options.columns?</code></td>
<td align="left"><a href="./#columnstomap"><code>ColumnsToMap</code></a></td>
</tr>
<tr>
<td align="left"><code>options.mappings?</code></td>
<td align="left"><code>null</code> | <a href="../interfaces/grist_plugin_api.WidgetColumnMap.md"><code>WidgetColumnMap</code></a></td>
</tr>
<tr>
<td align="left"><code>options.reverse?</code></td>
<td align="left"><code>boolean</code></td>
</tr>
</tbody>
</table>
<h4 id="returns_8">Returns<a class="headerlink" href="#returns_8" title="Permanent link">#</a></h4>
<p><code>any</code></p>
<hr />
<h3 id="mapcolumnnamesback">mapColumnNamesBack<a class="headerlink" href="#mapcolumnnamesback" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>mapColumnNamesBack</strong>(<code>data</code>, <code>options?</code>): <code>any</code></p>
<p>Offer a convenient way to map data with renamed columns back into the
form used in the original table. This is useful for making edits to the
original table in a widget with column mappings. As for mapColumnNames(),
we don&rsquo;t attempt to do these transformations automatically.</p>
<h4 id="parameters_6">Parameters<a class="headerlink" href="#parameters_6" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>data</code></td>
<td align="left"><code>any</code></td>
</tr>
<tr>
<td align="left"><code>options?</code></td>
<td align="left"><code>Object</code></td>
</tr>
<tr>
<td align="left"><code>options.columns?</code></td>
<td align="left"><a href="./#columnstomap"><code>ColumnsToMap</code></a></td>
</tr>
<tr>
<td align="left"><code>options.mappings?</code></td>
<td align="left"><code>null</code> | <a href="../interfaces/grist_plugin_api.WidgetColumnMap.md"><code>WidgetColumnMap</code></a></td>
</tr>
</tbody>
</table>
<h4 id="returns_9">Returns<a class="headerlink" href="#returns_9" title="Permanent link">#</a></h4>
<p><code>any</code></p>
<hr />
<h3 id="on">on<a class="headerlink" href="#on" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>on</strong>(<code>eventName</code>, <code>listener</code>): <code>Rpc</code></p>
<p>Adds the <code>listener</code> function to the end of the listeners array for the
event named <code>eventName</code>. No checks are made to see if the <code>listener</code> has
already been added. Multiple calls passing the same combination of <code>eventName</code>and <code>listener</code> will result in the <code>listener</code> being added, and called, multiple
times.</p>
<pre><code class="js">server.on('connection', (stream) =&gt; {
  console.log('someone connected!');
});
</code></pre>

<p>Returns a reference to the <code>EventEmitter</code>, so that calls can be chained.</p>
<p>By default, event listeners are invoked in the order they are added. The<code>emitter.prependListener()</code> method can be used as an alternative to add the
event listener to the beginning of the listeners array.</p>
<pre><code class="js">const myEE = new EventEmitter();
myEE.on('foo', () =&gt; console.log('a'));
myEE.prependListener('foo', () =&gt; console.log('b'));
myEE.emit('foo');
// Prints:
//   b
//   a
</code></pre>

<p><strong><code>Since</code></strong></p>
<p>v0.1.101</p>
<h4 id="parameters_7">Parameters<a class="headerlink" href="#parameters_7" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>eventName</code></td>
<td align="left"><code>string</code> | <code>symbol</code></td>
<td align="left">The name of the event.</td>
</tr>
<tr>
<td align="left"><code>listener</code></td>
<td align="left">(&hellip;<code>args</code>: <code>any</code>[]) =&gt; <code>void</code></td>
<td align="left">The callback function</td>
</tr>
</tbody>
</table>
<h4 id="returns_10">Returns<a class="headerlink" href="#returns_10" title="Permanent link">#</a></h4>
<p><code>Rpc</code></p>
<hr />
<h3 id="onnewrecord">onNewRecord<a class="headerlink" href="#onnewrecord" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>onNewRecord</strong>(<code>callback</code>): <code>void</code></p>
<p>For custom widgets, add a handler that will be called whenever the
new (blank) row is selected.</p>
<h4 id="parameters_8">Parameters<a class="headerlink" href="#parameters_8" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>callback</code></td>
<td align="left">(<code>mappings</code>: <code>null</code> | <a href="../interfaces/grist_plugin_api.WidgetColumnMap.md"><code>WidgetColumnMap</code></a>) =&gt; <code>unknown</code></td>
</tr>
</tbody>
</table>
<h4 id="returns_11">Returns<a class="headerlink" href="#returns_11" title="Permanent link">#</a></h4>
<p><code>void</code></p>
<hr />
<h3 id="onoptions">onOptions<a class="headerlink" href="#onoptions" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>onOptions</strong>(<code>callback</code>): <code>void</code></p>
<p>For custom widgets, add a handler that will be called whenever the
widget options change (and on initial ready message). Handler will be
called with an object containing saved json options, or null if no options were saved.
The second parameter has information about the widgets relationship with
the document that contains it.</p>
<h4 id="parameters_9">Parameters<a class="headerlink" href="#parameters_9" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>callback</code></td>
<td align="left">(<code>options</code>: <code>any</code>, <code>settings</code>: <a href="../interfaces/grist_plugin_api.InteractionOptions.md"><code>InteractionOptions</code></a>) =&gt; <code>unknown</code></td>
</tr>
</tbody>
</table>
<h4 id="returns_12">Returns<a class="headerlink" href="#returns_12" title="Permanent link">#</a></h4>
<p><code>void</code></p>
<hr />
<h3 id="onrecord">onRecord<a class="headerlink" href="#onrecord" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>onRecord</strong>(<code>callback</code>, <code>options?</code>): <code>void</code></p>
<p>For custom widgets, add a handler that will be called whenever the
row with the cursor changes - either by switching to a different row, or
by some value within the row potentially changing.  Handler may
in the future be called with null if the cursor moves away from
any row.
By default, <code>options.keepEncoded</code> is <code>false</code>.</p>
<h4 id="parameters_10">Parameters<a class="headerlink" href="#parameters_10" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>callback</code></td>
<td align="left">(<code>data</code>: <code>null</code> | <a href="../interfaces/GristData.RowRecord.md"><code>RowRecord</code></a>, <code>mappings</code>: <code>null</code> | <a href="../interfaces/grist_plugin_api.WidgetColumnMap.md"><code>WidgetColumnMap</code></a>) =&gt; <code>unknown</code></td>
</tr>
<tr>
<td align="left"><code>options</code></td>
<td align="left"><a href="../interfaces/grist_plugin_api.FetchSelectedOptions.md"><code>FetchSelectedOptions</code></a></td>
</tr>
</tbody>
</table>
<h4 id="returns_13">Returns<a class="headerlink" href="#returns_13" title="Permanent link">#</a></h4>
<p><code>void</code></p>
<hr />
<h3 id="onrecords">onRecords<a class="headerlink" href="#onrecords" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>onRecords</strong>(<code>callback</code>, <code>options?</code>): <code>void</code></p>
<p>For custom widgets, add a handler that will be called whenever the
selected records change.
By default, <code>options.format</code> is <code>'rows'</code> and <code>options.keepEncoded</code> is <code>false</code>.</p>
<h4 id="parameters_11">Parameters<a class="headerlink" href="#parameters_11" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>callback</code></td>
<td align="left">(<code>data</code>: <a href="../interfaces/GristData.RowRecord.md"><code>RowRecord</code></a>[], <code>mappings</code>: <code>null</code> | <a href="../interfaces/grist_plugin_api.WidgetColumnMap.md"><code>WidgetColumnMap</code></a>) =&gt; <code>unknown</code></td>
</tr>
<tr>
<td align="left"><code>options</code></td>
<td align="left"><a href="../interfaces/grist_plugin_api.FetchSelectedOptions.md"><code>FetchSelectedOptions</code></a></td>
</tr>
</tbody>
</table>
<h4 id="returns_14">Returns<a class="headerlink" href="#returns_14" title="Permanent link">#</a></h4>
<p><code>void</code></p>
<hr />
<h3 id="ready">ready<a class="headerlink" href="#ready" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>ready</strong>(<code>settings?</code>): <code>void</code></p>
<p>Declare that a component is prepared to receive messages from the outside world.
Grist will not attempt to communicate with it until this method is called.</p>
<h4 id="parameters_12">Parameters<a class="headerlink" href="#parameters_12" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>settings?</code></td>
<td align="left"><a href="../interfaces/grist_plugin_api.ReadyPayload.md"><code>ReadyPayload</code></a></td>
</tr>
</tbody>
</table>
<h4 id="returns_15">Returns<a class="headerlink" href="#returns_15" title="Permanent link">#</a></h4>
<p><code>void</code></p>
<hr />
<h3 id="setcursorpos">setCursorPos<a class="headerlink" href="#setcursorpos" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>setCursorPos</strong>(<code>pos</code>): <code>Promise</code>&lt;<code>void</code>></p>
<p>Sets the cursor position to a specific row and field. <code>sectionId</code> is ignored. Used for widget linking.</p>
<h4 id="parameters_13">Parameters<a class="headerlink" href="#parameters_13" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>pos</code></td>
<td align="left"><a href="../interfaces/grist_plugin_api.CursorPos.md"><code>CursorPos</code></a></td>
</tr>
</tbody>
</table>
<h4 id="returns_16">Returns<a class="headerlink" href="#returns_16" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<code>void</code>></p>
<hr />
<h3 id="setoption">setOption<a class="headerlink" href="#setoption" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>setOption</strong>(<code>key</code>, <code>value</code>): <code>Promise</code>&lt;<code>void</code>></p>
<p>Store single value in the Widget options object (and create it if necessary).</p>
<h4 id="parameters_14">Parameters<a class="headerlink" href="#parameters_14" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>key</code></td>
<td align="left"><code>string</code></td>
</tr>
<tr>
<td align="left"><code>value</code></td>
<td align="left"><code>any</code></td>
</tr>
</tbody>
</table>
<h4 id="returns_17">Returns<a class="headerlink" href="#returns_17" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<code>void</code>></p>
<hr />
<h3 id="setoptions">setOptions<a class="headerlink" href="#setoptions" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>setOptions</strong>(<code>options</code>): <code>Promise</code>&lt;<code>void</code>></p>
<p>Replaces all options stored by the widget.</p>
<h4 id="parameters_15">Parameters<a class="headerlink" href="#parameters_15" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>options</code></td>
<td align="left"><code>Object</code></td>
</tr>
</tbody>
</table>
<h4 id="returns_18">Returns<a class="headerlink" href="#returns_18" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<code>void</code>></p>
<hr />
<h3 id="setselectedrows">setSelectedRows<a class="headerlink" href="#setselectedrows" title="Permanent link">#</a></h3>
<p>‚ñ∏ <strong>setSelectedRows</strong>(<code>rowIds</code>): <code>Promise</code>&lt;<code>void</code>></p>
<p>Set the list of selected rows to be used against any linked widget.</p>
<h4 id="parameters_16">Parameters<a class="headerlink" href="#parameters_16" title="Permanent link">#</a></h4>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>rowIds</code></td>
<td align="left"><code>null</code> | <code>number</code>[]</td>
</tr>
</tbody>
</table>
<h4 id="returns_19">Returns<a class="headerlink" href="#returns_19" title="Permanent link">#</a></h4>
<p><code>Promise</code>&lt;<code>void</code>></p>

  <br>
</div>

<div class="feedback-box">
  <div class="feedback-box-title">Give Feedback</div>
  <div class="feedback-box-question">Was this article helpful?</div>
  <div class="feedback-box-buttons">
    <button class="feedback-box-button" data-rating="thumbsUp">&#x1F44D;</button>
    <button class="feedback-box-button" data-rating="thumbsDown">&#x1F44E;</button>
  </div>
  <div class="feedback-box-response">
    Thank you for letting us know!
  </div>
</div>

<script>
function initFeedbackButtons() {
  const serverUrl = "https://docs.getgrist.com";
  const feedbackBox = document.querySelector('.feedback-box');
  const buttons = document.querySelectorAll('.feedback-box-button');
  document.querySelector('.feedback-box-buttons').addEventListener('click', giveFeedback);

  async function giveFeedback(event) {
    const rating = event.target.dataset.rating;
    if (!rating) { return; }
    buttons.forEach(b => { b.disabled = true; });
    try {
      console.log("Sending rating to " + serverUrl + '/api/telemetry');
      const resp = await window.fetch(serverUrl + '/api/telemetry', makePayload(rating));
      if (!resp.ok) { throw new Error(resp.statusText); }
    } catch (err) {
      console.warn('Failed to report feedback', err);
      document.querySelector('.feedback-box-response').textContent = String(err);
    } finally {
      buttons.forEach(b => { b.disabled = false; });
      feedbackBox.classList.add('feedback-submitted');
    }
  }

  function makePayload(rating) {
    const url = window.location.href;
    return {
      method: 'POST',
      body: JSON.stringify({
        event: 'ratedHelpCenterArticle',
        metadata: {full: {url, rating}},
      }),
      credentials: 'same-origin',
      headers: {
        'Content-Type': 'application/json',
        'X-Requested-With': 'XMLHttpRequest',
      },
    };
  }
}
initFeedbackButtons();
</script><footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/gristlabs/grist-help/edit/master/docs/code/modules/grist_plugin_api.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

    </div>
  </div>
</div>

<div class="modal fade" id="video-modal" tabindex="-1" role="dialog" aria-labelledby="video-modal" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <div style="position:relative; padding-bottom:56.25%; margin-top: 32px;">
          <iframe src="" allowfullscreen style="position:absolute; left:0; top:0; width:100%; height:100%"></iframe>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>