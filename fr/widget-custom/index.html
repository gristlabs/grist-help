<!DOCTYPE html>
<html lang="fr">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
      <meta name="description" content="Le widget Personnalisé permet à un utilisateur d’insérer presque tout dans son document. Pour créer un widget personnalisé, il faut actuellement des connaissances en développement web et un accès à un serveur web public (par exemple, GitHub Pages).">
      <meta property="og:description" content="Le widget Personnalisé permet à un utilisateur d’insérer presque tout dans son document. Pour créer un widget personnalisé, il faut actuellement des connaissances en développement web et un accès à un serveur web public (par exemple, GitHub Pages).">
    
    
    <link rel="canonical" href="https://support.getgrist.com/widget-custom/">
    <link rel="shortcut icon" href="/images/favicon.png">
    <link rel="me" href="https://fosstodon.org/@grist">
    <meta name="thumbnail" content="https://support.getgrist.com/images/favicon.png">
    <meta property="og:image" content="https://support.getgrist.com/images/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Custom - Grist Help Center</title>
    
  

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5FDHKQ9');</script>
  <!-- End Google Tag Manager -->
    <link href="/css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="/css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="/css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/highlight.css">
    <link href="../css/grist.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="/js/jquery-3.2.1.min.js"></script>
    <script src="/js/bootstrap-3.3.7.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script src="/js/elasticlunr.min.js"></script>
    <script>
      var base_url = '..';
      var is_top_frame = false;
    </script>
    <script src="/js/base.js"></script>
      <script src="../js/grist.js"></script>
    <script type="text/javascript">!function(e,t,n){function a(){var e=t.getElementsByTagName("script")[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://beacon-v2.helpscout.net",e.parentNode.insertBefore(n,e)}if(e.Beacon=n=function(t,n,a){e.Beacon.readyQueue.push({method:t,options:n,data:a})},n.readyQueue=[],"complete"===t.readyState)return a();e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}(window,document,window.Beacon||function(){});</script>
<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function() {
    window.Beacon('config', {display: { style: 'icon' }});
    window.Beacon('init', 'fc61df2a-664b-4422-b24f-964bd0cb6d53');
    window.Beacon('suggest', [
      {url: 'https://community.getgrist.com/', text: 'Community Forum'},
      {url: 'https://docs.getgrist.com/p/templates', text: 'Templates'},
      {url: 'https://github.com/gristlabs/grist-core/projects/1', text: 'Roadmap'},
    ]);

    fetch('https://api.getgrist.com/api/session/access/all', {credentials: 'include'})
      .then(function(resp) { return resp.json(); })
      .then(function(status) {
        // If there's exactly two orgs, will use the team name for the non-merged personal
        // org as the company name.  Otherwise don't worry about setting company name.
        var org = undefined;
        if (status.orgs.length === 2) {
          org = status.orgs[0].owner ? status.orgs[1] : status.orgs[0];
        }
        // If there's one user account available, fill it in silently; otherwise use
        // the first one and prefill fields but let user see them so they can override
        // them.  If testing this, be aware that if 'identify' was called previously,
        // it will be cached in local storage and used even if it is not set this time
        // around.
        var user = status.users[0];
        var identifyOrPrefill = status.users.length === 1 ? 'identify' : 'prefill';
        if (user && !user.anonymous) {
          var userObj = {};
          if (user.email) { userObj.email = user.email; }
          if (user.name) { userObj.name = user.name; }
          if (user.picture) { userObj.avatar = user.picture; }
          if (user.helpScoutSignature) { userObj.signature = user.helpScoutSignature; }
          if (org && org.name) { userObj.company = org.name; }
          window.Beacon(identifyOrPrefill, userObj);
        }
      });
  });
</script> 
</head>

<body>
  
  

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5FDHKQ9"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

<nav class="navbar wm-page-top-frame">
  <div class="container-fluid wm-top-container">
    
    <div class="wm-top-tool pull-right wm-vcenter">
      <form class="dropdown wm-vcentered" id="wm-search-form" action="/search.html" method="GET">
        
        <button id="wm-search-show" class="btn btn-sm btn-default" type="submit"
          ><i class="fa fa-search" aria-hidden="true"></i></button>

        <div class="input-group input-group-sm wm-top-search">
          <input type="text" name="q" class="form-control" id="mkdocs-search-query" placeholder="Search" autocomplete="off">
          <span class="input-group-btn" role="search">
            
            <button class="btn btn-default dropdown-toggle collapse" data-toggle="dropdown" type="button"><span class="caret"></span></button>
            <ul id="mkdocs-search-results" class="dropdown-menu dropdown-menu-right"></ul>
            <button id="wm-search-go" class="btn btn-default" type="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
          </span>
        </div>
      </form>
    </div>

    
    <div class="wm-top-tool wm-vcenter pull-right wm-small-left wm-top-toc-button">
      <button id="wm-toc-button" type="button" class="btn btn-sm btn-default wm-vcentered"><i class="fa fa-th-list" aria-hidden="true"></i></button>
    </div>
    <div id="wm-language-select-container" class="wm-vcenter wm-top-tool home-top-tool-selector pull-right wm-small-left">
      <select id="wm-language-select" name="lang"
        
        >
        
        <option value="/" >en - English</option>
        
        <option value="/fr/" selected>fr - français</option>
        
        <option value="/it/" >it - italiano</option>
        
        <option value="/pt/" >pt - português</option>
        
        <option value="/uk/" >uk - українська мова</option>
        
      </select>
    </div>

    
    

    
    
      <a href="https://community.getgrist.com" class="wm-top-tool wm-top-link pull-right wm-vcenter home-link ">
        <div class="wm-top-title">
          Community
        </div>
      </a>
    
      <a href="https://www.getgrist.com" class="wm-top-tool wm-top-link pull-right wm-vcenter home-link wm-small-hide">
        <div class="wm-top-title">
          Back to Grist
        </div>
      </a>
    

    
    <a href=".." class="wm-top-brand wm-top-link wm-vcenter">
      
        <img class="wm-top-logo" src="../images/logo.png"/>
      
      <div class="wm-top-title">
        Grist Help Center<br>
        
          <span class="wm-top-version">1.0.2-dev</span>
        
      </div>
    </a>
  </div>
</nav>

<div id="main-content">
  
<nav class="wm-toc-pane">
  
  <ul class="wm-toctree">
        <li class="wm-toc-li wm-toc-lev1 "><a href=".." class="wm-article-link wm-toc-text">Welcome to Grist</a>

    
</li>
        <li class="wm-toc-li wm-toc-lev1 "><a href="../FAQ/" class="wm-article-link wm-toc-text">FAQ</a>

    
</li>
        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">How-to tutorials</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../lightweight-crm/" class="wm-article-link wm-toc-text">Create your own CRM</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../investment-research/" class="wm-article-link wm-toc-text">Analyze and visualize</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../afterschool-program/" class="wm-article-link wm-toc-text">Manage business data</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Managing documents</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../creating-doc/" class="wm-article-link wm-toc-text">Creating a document</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../sharing/" class="wm-article-link wm-toc-text">Sharing a document</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../copying-docs/" class="wm-article-link wm-toc-text">Copying documents</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../imports/" class="wm-article-link wm-toc-text">Importing more data</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../exports/" class="wm-article-link wm-toc-text">Exports & backups</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../automatic-backups/" class="wm-article-link wm-toc-text">Automatic backups</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../document-history/" class="wm-article-link wm-toc-text">Document history</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../workspaces/" class="wm-article-link wm-toc-text">Workspaces</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Pages and tables</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../enter-data/" class="wm-article-link wm-toc-text">Entering data</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../page-widgets/" class="wm-article-link wm-toc-text">Pages & widgets</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../raw-data/" class="wm-article-link wm-toc-text">Raw data</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../search-sort-filter/" class="wm-article-link wm-toc-text">Search, sort & filter</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-table/" class="wm-article-link wm-toc-text">Table widget</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-card/" class="wm-article-link wm-toc-text">Card & card list</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-form/" class="wm-article-link wm-toc-text">Form</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-chart/" class="wm-article-link wm-toc-text">Chart</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../widget-calendar/" class="wm-article-link wm-toc-text">Calendar</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2  wm-current wm-page-toc-opener wm-page-toc-open"><a href="./" class="wm-article-link wm-toc-text">Custom</a>

    
    
    <li class="wm-page-toc wm-toc-li-nested collapse in">
      <ul class="wm-toctree">
        
          <li class="wm-toc-li">
            <a class="wm-article-link wm-page-toc-text" href="#_top">
              Widget de page : Personnalisé
            </a>
          </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#exemple-minimal">
                Exemple minimal
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#ajouter-un-widget-personnalise">
                Ajouter un widget personnalisé
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#niveau-dacces">
                Niveau d&rsquo;accès
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#exemple-de-facture">
                Exemple de facture
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#creation-dun-widget-personnalise">
                Création d&rsquo;un widget personnalisé
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#mappage-de-colonnes">
                Mappage de colonnes
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#options-de-widget">
                Options de widget
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#lien-de-widget-personnalise">
                Lien de widget personnalisé
              </a>
            </li>
            <li class="wm-toc-li">
              <a class="wm-article-link wm-page-toc-text" href="#widgets-personnalises-prefabriques">
                Widgets personnalisés préfabriqués
              </a>
            </li>
        
      </ul>
    </li>
    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../linking-widgets/" class="wm-article-link wm-toc-text">Linking widgets</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../custom-layouts/" class="wm-article-link wm-toc-text">Custom layouts</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../record-cards/" class="wm-article-link wm-toc-text">Record cards</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../summary-tables/" class="wm-article-link wm-toc-text">Summary tables</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../on-demand-tables/" class="wm-article-link wm-toc-text">On-demand tables</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Columns and data types</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../col-types/" class="wm-article-link wm-toc-text">Columns & types</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../col-refs/" class="wm-article-link wm-toc-text">Reference columns</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../conditional-formatting/" class="wm-article-link wm-toc-text">Conditional formatting</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../timestamps/" class="wm-article-link wm-toc-text">Timestamp columns</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../authorship/" class="wm-article-link wm-toc-text">Authorship columns</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../col-transform/" class="wm-article-link wm-toc-text">Transformations</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Using formulas</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../formulas/" class="wm-article-link wm-toc-text">Intro to formulas</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../references-lookups/" class="wm-article-link wm-toc-text">References and lookups</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../dates/" class="wm-article-link wm-toc-text">Working with dates</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../formula-timer/" class="wm-article-link wm-toc-text">Formula timer</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../python/" class="wm-article-link wm-toc-text">Python versions</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../functions/" class="wm-article-link wm-toc-text">Function reference</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../formula-cheat-sheet/" class="wm-article-link wm-toc-text">Formula cheat sheet</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">AI Formula Assistant</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../ai-assistant/" class="wm-article-link wm-toc-text">AI Formula Assistant</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Team sites</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../teams/" class="wm-article-link wm-toc-text">Creating team sites</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../team-sharing/" class="wm-article-link wm-toc-text">Sharing team sites</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Access rules</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../access-rules/" class="wm-article-link wm-toc-text">Intro to access rules</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Integrations</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../rest-api/" class="wm-article-link wm-toc-text">REST API usage</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../api/" class="wm-article-link wm-toc-text">REST API reference</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../integrators/" class="wm-article-link wm-toc-text">Integrator services</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../embedding/" class="wm-article-link wm-toc-text">Embedding</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../webhooks/" class="wm-article-link wm-toc-text">Webhooks</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Plugin API</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="../code/" class="wm-article-link wm-toc-text">Intro to Plugin API</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../code/modules/grist_plugin_api/" class="wm-article-link wm-toc-text">grist-plugin-api</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="/... | flat | **/code/modules/**" class="wm-article-link wm-toc-text">AWESOME_PAGES_REST</a>

    
</li>
  </ul>
</li>

  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Self-managed</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../self-managed/" class="wm-article-link wm-toc-text">Self-managed Grist</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/saml/" class="wm-article-link wm-toc-text">SAML</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/oidc/" class="wm-article-link wm-toc-text">OIDC</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/scim/" class="wm-article-link wm-toc-text">SCIM</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/forwarded-headers/" class="wm-article-link wm-toc-text">Forwarded headers</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/cloud-storage/" class="wm-article-link wm-toc-text">Cloud storage</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/grist-connect/" class="wm-article-link wm-toc-text">GristConnect</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../install/grist-builder-edition/" class="wm-article-link wm-toc-text">Grist Builder Edition</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Audit logs</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="../install/audit-log-overview/" class="wm-article-link wm-toc-text">Audit log overview</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../install/audit-log-streaming/" class="wm-article-link wm-toc-text">Audit log streaming</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../install/audit-log-events/" class="wm-article-link wm-toc-text">Audit log events</a>

    
</li>
  </ul>
</li>

      <li class="wm-toc-li wm-toc-lev2 wm-toc-opener"><span class="wm-toc-text">Telemetry</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev3 "><a href="../telemetry/" class="wm-article-link wm-toc-text">Overview of telemetry</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../telemetry-limited/" class="wm-article-link wm-toc-text">Limited telemetry</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev3 "><a href="../telemetry-full/" class="wm-article-link wm-toc-text">Full telemetry</a>

    
</li>
  </ul>
</li>

  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">News & updates</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/" class="wm-article-link wm-toc-text">Newsletters</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2025-01/" class="wm-article-link wm-toc-text">2025/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-12/" class="wm-article-link wm-toc-text">2024/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-11/" class="wm-article-link wm-toc-text">2024/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-10/" class="wm-article-link wm-toc-text">2024/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-09/" class="wm-article-link wm-toc-text">2024/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-08/" class="wm-article-link wm-toc-text">2024/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-07/" class="wm-article-link wm-toc-text">2024/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-06/" class="wm-article-link wm-toc-text">2024/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-05/" class="wm-article-link wm-toc-text">2024/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-04/" class="wm-article-link wm-toc-text">2024/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-03/" class="wm-article-link wm-toc-text">2024/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-02/" class="wm-article-link wm-toc-text">2024/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2024-01/" class="wm-article-link wm-toc-text">2024/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-12/" class="wm-article-link wm-toc-text">2023/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-11/" class="wm-article-link wm-toc-text">2023/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-10/" class="wm-article-link wm-toc-text">2023/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-09/" class="wm-article-link wm-toc-text">2023/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-08/" class="wm-article-link wm-toc-text">2023/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-07/" class="wm-article-link wm-toc-text">2023/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-06/" class="wm-article-link wm-toc-text">2023/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-05/" class="wm-article-link wm-toc-text">2023/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-04/" class="wm-article-link wm-toc-text">2023/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-03/" class="wm-article-link wm-toc-text">2023/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-02/" class="wm-article-link wm-toc-text">2023/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2023-01/" class="wm-article-link wm-toc-text">2023/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-12/" class="wm-article-link wm-toc-text">2022/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-11/" class="wm-article-link wm-toc-text">2022/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-10/" class="wm-article-link wm-toc-text">2022/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-09/" class="wm-article-link wm-toc-text">2022/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-08/" class="wm-article-link wm-toc-text">2022/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-07/" class="wm-article-link wm-toc-text">2022/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-06/" class="wm-article-link wm-toc-text">2022/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-05/" class="wm-article-link wm-toc-text">2022/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-04/" class="wm-article-link wm-toc-text">2022/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-03/" class="wm-article-link wm-toc-text">2022/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-02/" class="wm-article-link wm-toc-text">2022/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2022-01/" class="wm-article-link wm-toc-text">2022/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-12/" class="wm-article-link wm-toc-text">2021/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-11/" class="wm-article-link wm-toc-text">2021/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-10/" class="wm-article-link wm-toc-text">2021/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-09/" class="wm-article-link wm-toc-text">2021/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-08/" class="wm-article-link wm-toc-text">2021/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-07/" class="wm-article-link wm-toc-text">2021/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-06/" class="wm-article-link wm-toc-text">2021/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-05/" class="wm-article-link wm-toc-text">2021/05</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-04/" class="wm-article-link wm-toc-text">2021/04</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-03/" class="wm-article-link wm-toc-text">2021/03</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-02/" class="wm-article-link wm-toc-text">2021/02</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2021-01/" class="wm-article-link wm-toc-text">2021/01</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-12/" class="wm-article-link wm-toc-text">2020/12</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-11/" class="wm-article-link wm-toc-text">2020/11</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-10/" class="wm-article-link wm-toc-text">2020/10</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-09/" class="wm-article-link wm-toc-text">2020/09</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-08/" class="wm-article-link wm-toc-text">2020/08</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-07/" class="wm-article-link wm-toc-text">2020/07</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-06/" class="wm-article-link wm-toc-text">2020/06</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../newsletters/2020-05/" class="wm-article-link wm-toc-text">2020/05</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">More examples</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/" class="wm-article-link wm-toc-text">More examples</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-06-credit-card/" class="wm-article-link wm-toc-text">Credit card expenses</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-06-book-club/" class="wm-article-link wm-toc-text">Book club links</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-07-email-compose/" class="wm-article-link wm-toc-text">Prefill emails</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-08-invoices/" class="wm-article-link wm-toc-text">Prepare invoices</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-09-payroll/" class="wm-article-link wm-toc-text">Track payroll</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-10-print-labels/" class="wm-article-link wm-toc-text">Print mailing labels</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-11-treasure-hunt/" class="wm-article-link wm-toc-text">Treasure hunt</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2020-12-map/" class="wm-article-link wm-toc-text">Map</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-01-tasks/" class="wm-article-link wm-toc-text">Task management</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-03-leads/" class="wm-article-link wm-toc-text">Lead list</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-04-link-keys/" class="wm-article-link wm-toc-text">Link keys guide</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-05-reference-columns/" class="wm-article-link wm-toc-text">Reference columns guide</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-06-timesheets/" class="wm-article-link wm-toc-text">Summary tables guide</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2021-07-auto-stamps/" class="wm-article-link wm-toc-text">Time and user stamps</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2023-01-acl-memo/" class="wm-article-link wm-toc-text">Restrict duplicate records</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../examples/2023-07-proposals-contracts/" class="wm-article-link wm-toc-text">Proposals & contracts</a>

    
</li>
  </ul>
</li>

        <li class="wm-toc-li wm-toc-lev1 wm-toc-opener"><span class="wm-toc-text">Reference</span>
</li>
<li class="wm-toc-li-nested collapse">
  <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2 "><a href="../keyboard-shortcuts/" class="wm-article-link wm-toc-text">Keyboard shortcuts</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="/functions/" class="wm-article-link wm-toc-text">Function reference</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../limits/" class="wm-article-link wm-toc-text">Limits</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../data-security/" class="wm-article-link wm-toc-text">Data security</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../browser-support/" class="wm-article-link wm-toc-text">Browser support</a>

    
</li>
      <li class="wm-toc-li wm-toc-lev2 "><a href="../glossary/" class="wm-article-link wm-toc-text">Glossary</a>

    
</li>
  </ul>
</li>

  </ul>

  <div class="wm-toc-quick-links">
    <div class="wm-toc-quick-links-header"><span class="wm-toc-text">Quick Links</span></div>
    <ul class="wm-toctree">
      <li class="wm-toc-li wm-toc-lev2">
        <a href="https://community.getgrist.com/" class="wm-quick-link wm-toc-text">Community</a>
      </li>
      <li class="wm-toc-li wm-toc-lev2">
        <a href="https://docs.getgrist.com/p/templates" class="wm-quick-link wm-toc-text">Templates</a>
      </li>
      <li class="wm-toc-li wm-toc-lev2">
        <a href="https://github.com/gristlabs/grist-core/projects/1" class="wm-quick-link wm-toc-text">Roadmap</a>
      </li>
    </ul>
    <ul class="wm-toctree wm-toc-repo">
      <li class="wm-toc-li wm-toc-lev2">
      <a class="wm-quick-link wm-toc-text" href="https://github.com/gristlabs/grist-help">
        <i class="fa fa-github"></i>

        Edit on GitHub
      </a>
      </li>
    </ul>

  </div>

</nav>

  <script>
    // Immediately expand parent items to show the selected page.
    $('.wm-current')
      .parents('.wm-toc-li-nested').addClass('collapse in')
      .prev('.wm-toc-opener').addClass('wm-toc-open');
  </script>
  <div class="wm-content-pane">
    <div class="wm-article">

<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../linking-widgets/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../linking-widgets/" class="btn btn-xs btn-link">
        Linking widgets
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../widget-calendar/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../widget-calendar/" class="btn btn-xs btn-link">
        Calendar
      </a>
    </div>
    
  </div>

    

    <div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>La traduction proposée ici a été générée automatiquement par le modèle d&rsquo;intelligence artificielle GPT-4o. Il est probable qu&rsquo;elle contienne des imperfections.</p>
<p>Mais la bonne nouvelle est que <a class="internal-link" href="https://github.com/gristlabs/grist-help/issues/new?template=10-help-translating.yml&amp;title=%5BGitLocalize%5D+Please+invite+me+to+the+translation+team" target="_blank">vous pouvez rejoindre la communauté de traduction pour améliorer le contenu fourni ici 👋</a>.</p>
</div>
<h1 id="widget-de-page-personnalise">Widget de page : Personnalisé<a class="headerlink" href="#widget-de-page-personnalise" title="Permanent link">#</a></h1>
<p>Le widget <strong>Personnalisé</strong> permet à un utilisateur d&rsquo;insérer presque tout dans son document. Pour créer un widget personnalisé, il faut actuellement des connaissances en développement web et un accès à un serveur web public (par exemple, GitHub Pages).</p>
<p>Une bonne utilisation des widgets personnalisés est de visualiser des enregistrements ou des tables de nouvelles manières. Utiliser Grist comme modèle de données et HTML/CSS/JS modernes comme vue est très puissant.</p>
<h2 id="exemple-minimal">Exemple minimal<a class="headerlink" href="#exemple-minimal" title="Permanent link">#</a></h2>
<p>Pour démontrer à un développeur web comment fonctionnent les widgets personnalisés, il existe un exemple minimal fonctionnel à :</p>
<blockquote>
<p><a href="https://public.getgrist.com/911KcgKA95oQ/Minimal-Custom-Widget/m/fork">https://public.getgrist.com/911KcgKA95oQ/Minimal-Custom-Widget/m/fork</a></p>
</blockquote>
<p>L&rsquo;exemple montre une table avec des données aléatoires (noms d&rsquo;animaux de compagnie) et deux widgets personnalisés, l&rsquo;un montrant la ligne sélectionnée dans la table au format JSON, et l&rsquo;autre montrant toutes les lignes de la table au format JSON. Si vous modifiez des données dans la table ou déplacez le curseur, les widgets personnalisés se mettent à jour en conséquence.</p>
<p><img alt="exemple de widget personnalisé" src="../images/widget_custom_example.png" /></p>
<p>Le code source des widgets se trouve à :</p>
<blockquote>
<p><a href="https://github.com/gristlabs/grist-widget/tree/master/inspect">https://github.com/gristlabs/grist-widget/tree/master/inspect</a></p>
</blockquote>
<p>Il est réduit à l&rsquo;essentiel. Voici le code source complet du widget <code>onRecord</code> qui montre une ligne de données :</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;onRecord&lt;/title&gt;
    &lt;script src=&quot;https://docs.getgrist.com/grist-plugin-api.js&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;pre id=&quot;readout&quot;&gt;En attente de données...&lt;/pre&gt;
    &lt;script&gt;
      grist.ready();
      grist.onRecord(function(record) {
        document.getElementById('readout').innerHTML = JSON.stringify(record, null, 2);
      });
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Les parties &ldquo;Grist&rdquo; de ceci sont :</p>
<ul>
<li>Inclusion de <code>https://docs.getgrist.com/grist-plugin-api.js</code> pour obtenir l&rsquo;API Grist.</li>
<li>Appel de <code>grist.ready</code> pour informer Grist que le widget est prêt à fonctionner.</li>
<li>Appel de <code>grist.onRecord</code> pour s&rsquo;abonner à la ligne actuelle de la table.</li>
</ul>
<p>Après cela, tout le reste est du HTML/CSS/JS classique. Une fois que vous avez des données qui arrivent, vous pouvez les rendre de la manière que vous souhaitez, en utilisant React, Vue.js ou votre framework préféré. Par exemple, vous pourriez rendre des enregistrements sous forme de <a href="../examples/2020-08-invoices/">facture imprimable</a>, ou utiliser un format de graphique obscur que Grist ne prend pas actuellement en charge.</p>
<h2 id="ajouter-un-widget-personnalise">Ajouter un widget personnalisé<a class="headerlink" href="#ajouter-un-widget-personnalise" title="Permanent link">#</a></h2>
<p>Pour ajouter un widget personnalisé qui lit à partir d&rsquo;une table, cliquez sur <code>Ajouter nouveau</code>, puis <code>Ajouter un widget à la page</code>. Ensuite :</p>
<ul>
<li>Pour <code>Sélectionner un widget</code>, choisissez <code>Personnalisé</code> pour obtenir un widget personnalisé.</li>
<li>Pour <code>Sélectionner des données</code>, choisissez la table à partir de laquelle vous souhaitez que le widget lise les données.</li>
<li>Optionnellement, choisissez <code>Sélectionner par</code> pour contrôler davantage les données sélectionnées (lisez <a href="../linking-widgets/">Lier des widgets de page</a> pour les possibilités).</li>
</ul>
<p><img alt="ajouter un widget personnalisé" src="../images/widget_custom_add.png" /></p>
<p>Le widget personnalisé est initialement vide. Pour le configurer, cliquez sur le bouton à trois points en haut à droite du widget personnalisé et sélectionnez &ldquo;Options du widget&rdquo;.</p>
<p><img alt="configurer un widget personnalisé" src="../images/widget_custom_example.png" /></p>
<p>Dans la section des paramètres <code>PERSONNALISÉ</code> où il est indiqué <code>Entrer l'URL personnalisée</code>, mettez le lien vers votre widget personnalisé. Voici un widget de test pour simplement afficher les données de la table au format JSON :</p>
<blockquote>
<p><a href="https://gristlabs.github.io/grist-widget/inspect/onRecords.html">https://gristlabs.github.io/grist-widget/inspect/onRecords.html</a></p>
</blockquote>
<p>Et voici un pour montrer uniquement la ligne sélectionnée (assurez-vous que &ldquo;Sélectionner par&rdquo; est défini pour le widget personnalisé) :</p>
<blockquote>
<p><a href="https://gristlabs.github.io/grist-widget/inspect/onRecord.html">https://gristlabs.github.io/grist-widget/inspect/onRecord.html</a></p>
</blockquote>
<h2 id="niveau-dacces">Niveau d&rsquo;accès<a class="headerlink" href="#niveau-dacces" title="Permanent link">#</a></h2>
<p>Lorsque vous mettez un lien vers une page web personnalisée, elle sera immédiatement rendue à l&rsquo;intérieur de la section. Vous avez maintenant la possibilité d&rsquo;accorder à cette page web l&rsquo;accès aux données de votre document. Les niveaux d&rsquo;accès suivants sont disponibles :</p>
<ul>
<li><em>Pas d&rsquo;accès au document</em> : la page web est affichée dans le widget, mais elle n&rsquo;a pas accès au document Grist contenant le widget.</li>
<li><em>Lire la table sélectionnée</em> : la page web est affichée dans le widget et reçoit un accès en lecture à la table que le widget est configuré pour sélectionner des données.</li>
<li><em>Accès complet au document</em> : la page web est affichée dans le widget et a un accès complet pour lire et modifier le document Grist contenant le widget.</li>
</ul>
<p>La page web doit être possédée et contrôlée par vous ou par quelqu&rsquo;un en qui vous avez confiance. Avec les permissions <code>Lire la table sélectionnée</code>, un widget pourrait envoyer les données auxquelles il accède à un tiers. Avec les permissions <code>Accès complet au document</code>, un widget pourrait envoyer toutes les données du document à un tiers et modifier votre document de n&rsquo;importe quelle manière.</p>
<p>Si vous écrivez votre propre widget personnalisé, vous pouvez spécifier le niveau d&rsquo;accès dont il a besoin dans le message <strong>prêt</strong> initial. Les valeurs possibles sont : <code>none</code>, <code>read table</code> et <code>full</code>.</p>
<pre><code class="language-html">&lt;script&gt;
  grist.ready({
    requiredAccess: 'read table'
  });
&lt;/script&gt;
</code></pre>
<p>Cela indique à Grist de demander le niveau d&rsquo;accès souhaité à l&rsquo;utilisateur. Votre widget sera rechargé avec le niveau d&rsquo;accès approprié si l&rsquo;utilisateur approuve la demande.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="invite d'accès" src="../images/widget_custom_access_prompt.png" /></em></span></p>
<p>Si vous souhaitez être informé du niveau d&rsquo;accès, vous pouvez vous abonner à l&rsquo;événement <code>onOptions</code> qui est envoyé au widget après qu&rsquo;il ait informé Grist qu&rsquo;il est prêt :</p>
<pre><code class="language-javascript">grist.onOptions(function(options, interaction) {
  console.log(interaction.access_level);
});
</code></pre>
<p>Pour l&rsquo;instant, il suffit de sauter le paramètre <code>options</code> (il sera décrit dans la section <a href="./#widget-options">Options de widget</a>). Le niveau d&rsquo;accès actuel fait partie du deuxième paramètre, qui décrit comment Grist interagira avec votre widget.</p>
<h2 id="exemple-de-facture">Exemple de facture<a class="headerlink" href="#exemple-de-facture" title="Permanent link">#</a></h2>
<p>L&rsquo;exemple minimal ci-dessus a montré des enregistrements au format JSON simple, mais le widget peut devenir aussi sophistiqué que vous le souhaitez. Voici un exemple montrant un enregistrement sous forme de facture imprimable :</p>
<p><img alt="exemple de facture" src="examples/images/2020-08-invoices/final-invoice.png" /></p>
<p>Vous pouvez lire les détails sur la façon d&rsquo;utiliser ce widget dans notre <a href="../examples/2020-08-invoices/">exemple de préparation de facture</a>. Le widget de facture est hébergé à :</p>
<blockquote>
<p><a href="https://gristlabs.github.io/grist-widget/invoices/">https://gristlabs.github.io/grist-widget/invoices/</a></p>
</blockquote>
<p>Et le code source HTML/CSS/JS peut être consulté à :</p>
<blockquote>
<p><a href="https://github.com/gristlabs/grist-widget/tree/master/invoices">https://github.com/gristlabs/grist-widget/tree/master/invoices</a></p>
</blockquote>
<p>Il utilise Vue.js et <code>grist.onRecord</code>.</p>
<h2 id="creation-dun-widget-personnalise">Création d&rsquo;un widget personnalisé<a class="headerlink" href="#creation-dun-widget-personnalise" title="Permanent link">#</a></h2>
<p>Comme vous l&rsquo;avez vu, écrire un widget simple qui utilise des données d&rsquo;une table est très facile. Tout d&rsquo;abord, vous devez informer Grist que vous êtes prêt et ensuite vous abonner à l&rsquo;un des événements disponibles : <code>onRecord</code>, <code>onRecords</code> ou <code>onOptions</code>.</p>
<pre><code class="language-javascript">grist.ready();
grist.onRecord(function (record) {
  // Le curseur a été déplacé.
});
grist.onRecords(function (record) {
  // Les données dans la table ont changé.
});
grist.onOptions(function (options, interaction) {
  // La configuration a changé.
});
</code></pre>
<p>Disons que vous souhaitez créer un widget personnalisé qui affichera une image à partir d&rsquo;une URL et éventuellement une ligne de texte en dessous comme titre de l&rsquo;image. Vous devrez lire deux valeurs de deux colonnes : <code>Lien</code> et <code>Titre</code>.</p>
<p>Vous pourriez accéder à ces colonnes directement en utilisant les noms de colonnes littéraux dans votre script. Voici un exemple complet de code source de widget qui fera le travail :</p>
<pre><code class="language-html">&lt;script src=&quot;https://docs.getgrist.com/grist-plugin-api.js&quot;&gt;&lt;/script&gt;
&lt;img id=&quot;image&quot; src=&quot;&quot;/&gt;
&lt;div id=&quot;title&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  grist.ready({requiredAccess: 'read table'});
  grist.onRecord(function (record) {
    document.getElementById('image').src = record.Lien;
    document.getElementById('title').innerText = record.Titre;
  });
&lt;/script&gt;
</code></pre>
<p>Lorsque vous commencez, c&rsquo;est une bonne approche, mais elle présente deux inconvénients majeurs. Chaque fois que vous renommez une colonne, vous devrez également modifier le code source de votre widget. De plus, utiliser ce widget sur une table différente ou le partager avec vos amis peut être difficile car les noms de colonnes pourraient être différents. Pour aider avec cela, Grist propose l&rsquo;API de mappage de colonnes.</p>
<h2 id="mappage-de-colonnes">Mappage de colonnes<a class="headerlink" href="#mappage-de-colonnes" title="Permanent link">#</a></h2>
<p>Au lieu d&rsquo;utiliser directement les noms de colonnes, vous pouvez demander à l&rsquo;utilisateur de choisir quelle colonne utiliser comme <code>Lien</code> et <code>Titre</code>. La liste des colonnes attendues peut être envoyée à Grist dans l&rsquo;appel prêt :</p>
<pre><code class="language-js">grist.ready({columns: ['Lien', 'Titre']});
</code></pre>
<p>En utilisant cette information, dans le panneau de création, Grist masquera la section régulière &ldquo;Colonnes visibles&rdquo; et affichera des sélecteurs de colonnes spécialisés.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="invite d'accès" src="../images/widget_custom_pick_columns.png" /></em></span></p>
<p>Votre widget recevra cette configuration de mappage dans le paramètre <code>onRecord</code> ou <code>onRecords</code> dans le deuxième paramètre. Vous pouvez utiliser cette configuration pour effectuer les mappages vous-même ou utiliser la fonction d&rsquo;assistance <code>mapColumnNames</code> pour le faire pour vous.</p>
<pre><code class="language-html">&lt;script src=&quot;https://docs.getgrist.com/grist-plugin-api.js&quot;&gt;&lt;/script&gt;
&lt;img id=&quot;image&quot; src=&quot;&quot;/&gt;
&lt;div id=&quot;title&quot;&gt;&lt;/div&gt;
&lt;script&gt;
grist.ready({columns: ['Lien', 'Titre'], requiredAccess: 'read table'});
grist.onRecord(function (record, mappings) {
  const mapped = grist.mapColumnNames(record);
  // D'abord, vérifiez si toutes les colonnes ont été mappées.
  if (mapped) {
    document.getElementById('image').src = mapped.Lien;
    document.getElementById('title').innerText = mapped.Titre;
    console.log(`Utilisation des colonnes ${mappings.Lien} et ${mappings.Titre}`);
  } else {
    // L'assistant a renvoyé une valeur nulle. Cela signifie que toutes les colonnes requises n'ont pas été mappées.
    console.error(&quot;Veuillez mapper toutes les colonnes&quot;);
  }
});
&lt;/script&gt;
</code></pre>
<p>Maintenant, si vous renommez l&rsquo;une des colonnes, le widget fonctionnera toujours. Vous pouvez également utiliser ce widget dans n&rsquo;importe quelle autre table ou le partager avec un ami, car il ne dépend pas de votre structure de table et peut être facilement configuré.</p>
<p>Dans la configuration utilisée ci-dessus, nous avons dit à Grist que toutes les colonnes sont requises, et l&rsquo;utilisateur peut choisir n&rsquo;importe quelle colonne même si la colonne ne contient pas de valeur texte. Pour être plus précis, nous pouvons inclure plus d&rsquo;options dans la demande. Par exemple :</p>
<pre><code class="language-javascript">grist.ready({columns: [
  {
    name: &quot;Lien&quot;, // Quel champ nous allons lire.
    title: &quot;Lien de l'image&quot;, // Nom de champ convivial.
    optional: false, // Est-ce un champ optionnel.
    type: &quot;Texte&quot;, // Quel type de colonne nous attendons.
    description: &quot;Un texte&quot; // Description d'un champ.
    allowMultiple: false // Permet l'attribution de plusieurs colonnes.
  }
]});
</code></pre>
<p>Le paramètre <code>optional</code> est important pour le bon fonctionnement de l&rsquo;assistant <code>mapColumnNames</code>. Cet assistant ne renverra un enregistrement mappé que lorsque toutes les colonnes requises (non optionnelles) seront choisies.</p>
<p>Par défaut, Grist permettra à l&rsquo;utilisateur de choisir n&rsquo;importe quel type de colonne. Pour autoriser uniquement une colonne d&rsquo;un type spécifique, vous devez définir une propriété <code>type</code>. Voici tous les types valides :</p>
<p><code>Int</code> (<em>Colonne entière</em>), <code>Numeric</code> (<em>Colonne numérique</em>), <code>Texte</code>, <code>Date</code>, <code>DateTime</code>, <code>Bool</code> (<em>Colonne de bascule</em>), <code>Choice</code>, <code>ChoiceList</code>, <code>Ref</code> (<em>Colonne de référence</em>), <code>RefList</code> (<em>Liste de références</em>), <code>Attachments</code>.</p>
<p>La valeur par défaut de <code>type</code> est <code>Any</code>, donc Grist permettra à l&rsquo;utilisateur de choisir n&rsquo;importe quel type de colonne. Vous pouvez également spécifier une liste de types, par exemple <code>Date,DateTime</code>. Dans ce cas, Grist permettra à l&rsquo;utilisateur de choisir n&rsquo;importe quelle colonne qui correspond à l&rsquo;un des types de la liste.</p>
<p>Utilisez les champs <code>title</code> et <code>description</code> pour aider vos utilisateurs à comprendre quel est le but de la colonne. La <code>description</code> sera affichée juste en dessous du nom de la colonne, et le <code>title</code> sera utilisé comme étiquette de colonne. Les deux sont optionnels et vous pouvez y mettre n&rsquo;importe quel texte que vous souhaitez.</p>
<p>Si vous devez mapper plusieurs colonnes (par exemple dans un widget de graphique personnalisé), vous pouvez utiliser l&rsquo;option <code>allowMultiple</code>. Cela permettra à vos utilisateurs de choisir un ensemble de colonnes qui seront renvoyées sous forme de liste de noms de colonnes de table mappés. L&rsquo;assistant <code>mapColumnNames</code> renverra alors un tableau de valeurs de colonnes mappées dans un seul champ.</p>
<p>Supposons que l&rsquo;utilisateur supprime une colonne ou change son type de sorte qu&rsquo;elle ne corresponde plus au type demandé par le widget. Dans ce cas, Grist supprimera automatiquement cette colonne du mappage.</p>
<h2 id="options-de-widget">Options de widget<a class="headerlink" href="#options-de-widget" title="Permanent link">#</a></h2>
<p>Si votre widget a besoin de stocker certaines options, Grist propose une API de stockage clé-valeur simple que vous pouvez utiliser. Voici quelques extraits de code JavaScript qui montrent comment interagir avec cette API :</p>
<pre><code class="language-js">// Stocker une simple valeur de texte.
await grist.setOption('color', '#FF0000');

// Stocker des objets complexes sous forme de JSON.
await grist.setOption('settings', {lines: 10, skipFirst: true});

// Lire l'option précédemment enregistrée
const color = await grist.getOption('color');

// Effacer toutes les options.
await grist.clearOptions();

// Obtenir et remplacer toutes les options.
await grist.getOptions();
await grist.setOptions({...});
</code></pre>
<p>Vous pouvez expérimenter cela vous-même. Voici un widget de test qui démontre comment utiliser cette API :</p>
<blockquote>
<p><a href="https://gristlabs.github.io/grist-widget/inspect/onOptions.html">https://gristlabs.github.io/grist-widget/inspect/onOptions.html</a></p>
</blockquote>
<p>Lorsque votre widget enregistre ou modifie certaines options, l&rsquo;icône en haut de la section devient verte. Vous pouvez soit appliquer ces options au widget, soit annuler cette modification.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="options non enregistrées" src="../images/widget_custom_unsaved_options.png" /></em></span></p>
<p>Cela permet aux visualisateurs (utilisateurs avec un accès en lecture seule) ou aux collaborateurs de configurer votre widget sans écraser les paramètres d&rsquo;origine. Ce comportement devrait vous sembler familier, car cela fonctionne comme <a href="../search-sort-filter/#saving-sort-settings">le tri et le filtrage</a> sur les vues de table ou de carte.</p>
<p>En enregistrant les options actuelles, vous les appliquerez au widget et les rendrez disponibles pour les autres. En utilisant ce menu, vous pouvez également effacer toutes les options pour revenir à l&rsquo;état initial du widget. Pour ce faire, appuyez sur la petite icône de poubelle, puis sur <code>Enregistrer</code>.</p>
<p>Grist déclenchera également un événement chaque fois que les options sont modifiées (ou effacées). Voici comment vous pouvez vous abonner à cet événement.</p>
<pre><code class="language-javascript">grist.onOptions(function(options, interaction) {
  if (options) {
    console.log('Couleur actuelle', options.color);
  } else {
    // Aucune option de widget n'a été enregistrée, retour aux options par défaut.
  }
});
</code></pre>
<p>Si vous construisez votre propre widget, vous ne devez généralement pas lire les options directement (en utilisant <code>grist.widgetApi.getOption()</code>). Un meilleur modèle consiste à les appliquer toutes lorsqu&rsquo;elles sont modifiées. L&rsquo;utilisation du gestionnaire <code>onOptions</code> rendra votre widget plus facile à modifier et à comprendre ultérieurement.</p>
<p>Il y a un scénario supplémentaire à couvrir. Supposons que votre widget ait une sorte d&rsquo;écran de configuration personnalisé. Dans ce cas, vous aurez probablement besoin d&rsquo;un bouton ou d&rsquo;un autre élément d&rsquo;interface utilisateur que l&rsquo;utilisateur peut utiliser pour l&rsquo;afficher. Cet élément d&rsquo;interface utilisateur supplémentaire sera probablement rarement utilisé par vous ou vos collaborateurs, donc il n&rsquo;est pas logique de l&rsquo;afficher tout le temps. Pour aider avec cela, Grist propose une option d&rsquo;interaction supplémentaire que vous pouvez envoyer dans le message prêt :</p>
<pre><code class="language-javascript">grist.ready({
  onEditOptions: function() {
    // Votre logique personnalisée pour ouvrir l'écran de configuration personnalisé.
  }
});
</code></pre>
<p>Cela indiquera à Grist d&rsquo;afficher un bouton supplémentaire <code>Ouvrir la configuration</code> dans le panneau de création et le menu de section. Lorsqu&rsquo;il est cliqué, cela déclenchera votre gestionnaire, que vous pouvez utiliser pour afficher votre propre écran de configuration personnalisé.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="options non enregistrées" src="../images/widget_custom_open_configuration.png" /></em></span></p>
<h2 id="lien-de-widget-personnalise">Lien de widget personnalisé<a class="headerlink" href="#lien-de-widget-personnalise" title="Permanent link">#</a></h2>
<p>Les widgets personnalisés peuvent également être utilisés comme source de liaison (voir <a href="../linking-widgets/">Lier des widgets</a>). Tout ce que vous avez à faire est d&rsquo;informer Grist que votre widget prend en charge le lien en passant une option supplémentaire à l&rsquo;appel <code>ready</code> (voir <a href="../code/modules/grist_plugin_api/#ready">API de widget</a>) :</p>
<pre><code class="language-javascript">grist.ready({
  allowSelectBy: true
});
</code></pre>
<p>Cela activera l&rsquo;option <code>Sélectionner par</code> dans le panneau de configuration du widget. Vous pouvez maintenant utiliser votre widget pour contrôler la position du curseur dans les widgets liés. Pour ce faire, vous devez appeler la fonction <code>setCursorPos</code> :</p>
<pre><code class="language-javascript">// Informer Grist que le curseur doit être déplacé vers la ligne avec l'ID 20.
grist.setCursorPos({rowId: 20});

// ou informer que votre widget crée une nouvelle ligne.
grist.setCursorPos({rowId: 'new'});
</code></pre>
<h2 id="widgets-personnalises-prefabriques">Widgets personnalisés préfabriqués<a class="headerlink" href="#widgets-personnalises-prefabriques" title="Permanent link">#</a></h2>
<p>Tous les widgets personnalisés préfabriqués sont disponibles dans le panneau de configuration du widget personnalisé sur le côté droit de l&rsquo;écran sous le menu déroulant Personnalisé.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="widgets préfabriqués" src="images/widget-custom/premade-widgets.png" /></em></span></p>
<h3 id="graphiques-avances">Graphiques avancés<a class="headerlink" href="#graphiques-avances" title="Permanent link">#</a></h3>
<p>Le widget personnalisé Graphiques avancés vous donne plus de puissance et de flexibilité que les graphiques intégrés de Grist, offrant une grande variété de types de graphiques ainsi qu&rsquo;un contrôle accru sur le style et la mise en page. C&rsquo;est une version de <a href="https://chart-studio.plotly.com/">Chart Studio</a> de Plotly, consultez leurs <a href="https://plotly.com/chart-studio-help/tutorials/">tutoriels</a> pour une aide plus détaillée.</p>
<p>Vous devrez définir le niveau d&rsquo;accès sur &ldquo;Accès complet au document&rdquo;. Ne vous inquiétez pas, le widget ne lit que les données de la table sélectionnée, ne les envoie à aucun serveur et ne modifie ou n&rsquo;apporte d&rsquo;autres changements à votre document.</p>
<p>Voici ce que vous devriez voir :</p>
<p><img alt="panneau de traces vide de graphique avancé" src="../images/widget-custom/advanced-chart-blank-traces-panel.png" /></p>
<p>Cliquez sur le grand bouton bleu “+ Trace” pour commencer. Cela ajoutera un panneau comme suit :</p>
<p><img alt="trace vide de graphique avancé" src="../images/widget-custom/advanced-chart-blank-trace.png" /></p>
<p>Cliquez sur “Dispersion” pour choisir un type de graphique différent tel que Bar ou Ligne. Ensuite, cliquez sur les menus déroulants “Choisir des données” pour sélectionner les colonnes que vous souhaitez tracer.</p>
<p>Vous pouvez ajouter plusieurs traces pour superposer différents graphiques. Essayez différents panneaux dans la barre latérale pour personnaliser davantage le graphique. Par exemple, allez dans Style &gt; Axes &gt; Titres pour ajouter une étiquette à chaque axe. Consultez les <a href="https://plotly.com/chart-studio-help/tutorials/">tutoriels de studio de graphique</a> pour en savoir plus.</p>
<p>Au fur et à mesure que vous personnalisez le widget, n&rsquo;oubliez pas de cliquer régulièrement sur le bouton ‘Enregistrer’ au-dessus du widget pour conserver votre configuration.</p>
<h3 id="copier-dans-le-presse-papiers">Copier dans le presse-papiers<a class="headerlink" href="#copier-dans-le-presse-papiers" title="Permanent link">#</a></h3>
<p>Copier dans le presse-papiers copie une valeur de la colonne spécifiée de l&rsquo;enregistrement sélectionné. Lors de la configuration du widget, vous devrez sélectionner la colonne à partir de laquelle vous souhaitez copier des données.</p>
<p><em><img alt="copier dans le presse-papiers" src="../images/widget-custom/copy-to-clipboard.png" /></em></p>
<p>Notez que vous pouvez également copier des données d&rsquo;une cellule sélectionnée en utilisant le raccourci clavier <code class="keys"><em>Ctrl</em> + <em>C</em></code> sur Windows ou <code class="keys"><em>⌘</em> + <em>C</em></code> sur Mac. Pour coller, utilisez <code class="keys"><em>Ctrl</em> + <em>V</em></code> ou <code class="keys"><em>⌘</em> + <em>V</em></code>.</p>
<p>Vous pouvez trouver un exemple du bouton copier dans le presse-papiers dans notre <a href="https://public.getgrist.com/uGS3WH3mhoVy/7-Webinar-7-Custom-Widgets-End-Result/p/4" target="_blank">Webinaire 7 (Widgets personnalisés)</a> modèle. Vous pouvez également regarder une vidéo explicative de notre <a href="https://www.youtube.com/watch?v=zNLHX_ezY50&amp;t=2063s" target="_blank">Webinaire sur les widgets personnalisés</a>.</p>
<h3 id="integrateur-dropbox">Intégrateur Dropbox<a class="headerlink" href="#integrateur-dropbox" title="Permanent link">#</a></h3>
<p>Voir et accéder aux fichiers enregistrés sur Dropbox.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="widget intégrateur Dropbox" src="../images/widget-custom/dropbox-embedder-widget.png" /></em></span></p>
<p>Pour commencer, ajoutez une nouvelle colonne à votre table pour stocker vos liens Dropbox.</p>
<p>Ensuite, ajoutez un nouveau widget personnalisé à la page. Choisissez la table de données qui contient les liens Dropbox et &lsquo;Sélectionner par&rsquo; cette même table.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="ajouter widget Dropbox" src="../images/widget-custom/dropbox-add-widget.png" /></em></span></p>
<p>Pour configurer, sélectionnez &lsquo;Intégrateur Dropbox&rsquo; dans le menu déroulant Personnalisé et autorisez l&rsquo;accès pour lire la table sélectionnée. Sous &lsquo;Lien Dropbox&rsquo;, sélectionnez la colonne qui contient vos liens Dropbox.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="configuration intégrateur Dropbox" src="../images/widget-custom/dropbox-embedder-configuration.png" /></em></span></p>
<p>Vous pouvez créer des liens vers des dossiers ou des fichiers spécifiques dans Dropbox. Cliquez sur &lsquo;Partager&rsquo;, puis définissez les permissions pour le lien. Vous pouvez choisir de permettre à quiconque ayant le lien de visualiser ou d&rsquo;éditer. Créez ensuite, puis copiez le lien. Collez ce lien dans votre colonne Lien Dropbox dans Grist. Notez que les utilisateurs ne peuvent pas modifier directement dans le widget personnalisé même si des permissions d&rsquo;édition sont accordées. Pour éditer, sélectionnez l&rsquo;objet dans l&rsquo;intégrateur Dropbox et il s&rsquo;ouvrira dans un nouvel onglet où il pourra être modifié directement dans Dropbox.</p>
<p><span class="screenshot-large"><em><img alt="créer un lien intégrateur Dropbox" src="../images/widget-custom/dropbox-embedder-create-link.png" /></em></span></p>
<p>Vous pouvez consulter un exemple de l&rsquo;intégrateur Dropbox dans notre <a href="https://templates.getgrist.com/uXMbETLdfriM/Hurricane-Preparedness" target="_blank">Préparation à l&rsquo;ouragan</a> modèle.</p>
<p><em><img alt="intégrateur Dropbox" src="../images/widget-custom/dropbox-embedder.png" /></em></p>
<h3 id="lecteur-video-grist">Lecteur vidéo Grist<a class="headerlink" href="#lecteur-video-grist" title="Permanent link">#</a></h3>
<p>Intégrez des vidéos provenant de sources en ligne telles que YouTube, Vimeo, Facebook Video, Google Drive et plus encore.</p>
<p><em><img alt="lecteur vidéo" src="../images/widget-custom/video-player.png" /></em></p>
<p>Pour commencer, ajoutez une nouvelle colonne à votre table pour stocker vos URL vidéo.</p>
<p>Ensuite, ajoutez un nouveau widget personnalisé à la page. Choisissez la table de données qui contient les URL vidéo et &lsquo;Sélectionner par&rsquo; cette même table.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="ajouter widget lecteur vidéo" src="images/widget-custom/video-player-add-widget.png" /></em></span></p>
<p>Pour configurer, sélectionnez &lsquo;Lecteur vidéo Grist&rsquo; dans le menu déroulant Personnalisé et autorisez l&rsquo;accès pour lire la table sélectionnée. Sous &lsquo;URL&rsquo;, sélectionnez la colonne qui contient vos URL vidéo.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="configuration lecteur vidéo" src="../images/widget-custom/video-player-configuration.png" /></em></span></p>
<p>Pour la plupart des vidéos en ligne, y compris les vidéos YouTube et les vidéos stockées sur Google Drive, vous pouvez simplement cliquer sur l&rsquo;option &lsquo;Partager&rsquo; et copier l&rsquo;URL.</p>
<p><em><img alt="intégration youtube" src="../images/widget-custom/youtube-embed.png" /></em></p>
<p>Pour certaines autres vidéos, vous pourriez voir cette erreur :</p>
<p><em><img alt="erreur lecteur vidéo" src="../images/widget-custom/video-player-error.png" /></em></p>
<p>Si cela se produit, vous devrez prendre l&rsquo;URL à partir du code d&rsquo;intégration.</p>
<p>Après avoir cliqué sur l&rsquo;option de partage de la vidéo, cliquez sur l&rsquo;option &lsquo;Intégrer&rsquo;.</p>
<p><em><img alt="intégration vidéo Facebook" src="../images/widget-custom/video-facebook-embed.png" /></em></p>
<p>Ensuite, cliquez pour copier le code.</p>
<p><em><img alt="code d'intégration vidéo Facebook" src="../images/widget-custom/video-facebook-embed-2.png" /></em></p>
<p>Le code qu&rsquo;il vous donne ressemblera à ceci :</p>
<p><em><img alt="code d'intégration vidéo Facebook" src="../images/widget-custom/video-facebook-embed-code.png" /></em></p>
<p>Copiez l&rsquo;URL qui se trouve entre les guillemets après <code>src</code>. La portion mise en surbrillance dans la capture d&rsquo;écran ci-dessous est ce que vous copieriez pour cette vidéo Facebook particulière.</p>
<p><em><img alt="src vidéo Facebook" src="../images/widget-custom/video-facebook-embed-src.png" /></em></p>
<p>Collez cette URL dans votre colonne URL dans Grist et la vidéo apparaîtra maintenant dans le widget personnalisé Lecteur vidéo Grist.</p>
<p><em><img alt="intégration lecteur vidéo" src="../images/widget-custom/video-player-embed.png" /></em></p>
<h3 id="visionneuse-html">Visionneuse HTML<a class="headerlink" href="#visionneuse-html" title="Permanent link">#</a></h3>
<p>La visionneuse HTML affiche du HTML écrit dans une cellule.</p>
<p>Pour des widgets d&rsquo;édition de texte, consultez nos widgets personnalisés <a href="#markdown">Markdown</a> et <a href="#notepad">Bloc-notes</a>.</p>
<p><em><img alt="visionneuse html" src="../images/widget-custom/html-viewer.png" /></em></p>
<p>Pour commencer, ajoutez une nouvelle colonne à votre table. C&rsquo;est là que vous écrirez du HTML.</p>
<p>Ensuite, ajoutez un nouveau widget personnalisé à la page. Choisissez la table de données qui contient le HTML et &lsquo;Sélectionner par&rsquo; cette même table.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="ajouter widget visionneuse HTML" src="images/widget-custom/html-viewer-add-widget.png" /></em></span></p>
<p>Pour configurer, sélectionnez &lsquo;Visionneuse HTML&rsquo; dans le menu déroulant Personnalisé et autorisez l&rsquo;accès pour lire la table sélectionnée. Sous &lsquo;HTML&rsquo;, sélectionnez la colonne de texte qui contient votre HTML.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="configuration visionneuse HTML" src="../images/widget-custom/html-viewer-configuration.png" /></em></span></p>
<p>Votre HTML sera visible dans le widget personnalisé.</p>
<p><em><img alt="exemple final visionneuse HTML" src="../images/widget-custom/html-viewer-final-example.png" /></em></p>
<p>Pour obtenir de l&rsquo;aide sur le formatage HTML, consultez ce guide de W3 Schools : <a href="https://www.w3schools.com/html/html_formatting.asp" target="_blank">Formatage de texte HTML</a></p>
<p>Vous pouvez trouver un exemple de la visionneuse HTML dans notre <a href="https://public.getgrist.com/uGS3WH3mhoVy/7-Webinar-7-Custom-Widgets-End-Result/p/1" target="_blank">Webinaire 7 (Widgets personnalisés)</a> modèle. Vous pouvez également regarder une vidéo explicative de notre <a href="https://www.youtube.com/watch?v=zNLHX_ezY50&amp;t=1538s" target="_blank">Webinaire sur les widgets personnalisés</a>.</p>
<h3 id="visionneuse-dimages">Visionneuse d&rsquo;images<a class="headerlink" href="#visionneuse-dimages" title="Permanent link">#</a></h3>
<p>Voir des images à partir d&rsquo;URL.</p>
<p><em><img alt="visionneuse d'images" src="../images/widget-custom/image-viewer.png" /></em></p>
<p>Pour commencer, ajoutez une nouvelle colonne à votre table. C&rsquo;est là que vous ajouterez l&rsquo;URL de votre image.</p>
<p>Ensuite, ajoutez un nouveau widget personnalisé à la page. Choisissez la table de données qui contient l&rsquo;URL de l&rsquo;image et &lsquo;Sélectionner par&rsquo; cette même table.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="ajouter widget visionneuse d'images" src="images/widget-custom/image-viewer-add-widget.png" /></em></span></p>
<p>Pour configurer, sélectionnez &lsquo;Visionneuse d&rsquo;images&rsquo; dans le menu déroulant Personnalisé et autorisez l&rsquo;accès pour lire la table sélectionnée. Sous &lsquo;URL de l&rsquo;image&rsquo;, sélectionnez la colonne qui contient les URL de vos images.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="configuration visionneuse d'images" src="../images/widget-custom/image-viewer-configuration.png" /></em></span></p>
<p>Pour copier l&rsquo;URL d&rsquo;une image, faites un clic droit sur la photo puis &lsquo;Copier l&rsquo;adresse de l&rsquo;image&rsquo;. Cela copie l&rsquo;URL dans votre presse-papiers. Collez cette URL dans votre colonne spécifiée dans Grist.</p>
<p><em><img alt="enregistrer image visionneuse" src="../images/widget-custom/image-viewer-save-image.png" /></em></p>
<p>De plus, vous pouvez ajouter plusieurs images pour un enregistrement spécifique en ajoutant plusieurs URL d&rsquo;images, séparées par un espace ou une nouvelle ligne, dans une seule cellule.</p>
<p>Veuillez noter qu&rsquo;une virgule ne fonctionnera pas pour séparer les liens.</p>
<p><em><img alt="liens multiples visionneuse d'images" src="../images/widget-custom/image-viewer-multiple-links.png" /></em></p>
<p>Lorsque plusieurs URL d&rsquo;images sont présentes, le widget personnalisé visionneuse d&rsquo;images fonctionnera comme un carrousel. Cliquez sur les flèches pour voir d&rsquo;autres images.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="visionneuse d'images parc multiples" src="../images/widget-custom/image-viewer-multiple.png" /></em></span></p>
<p>Pour un exemple du widget visionneuse d&rsquo;images, consultez notre <a href="https://templates.getgrist.com/4TRbjZXSPtR5/US-National-Park-Database/p/4" target="_blank">Base de données des parcs nationaux des États-Unis</a>, et ajoutez une critique de parc pendant que vous y êtes !</p>
<p>Vous pouvez également consulter notre modèle <a href="https://templates.getgrist.com/gtzQwTXkgzFG/Meme-Generator" target="_blank">Générateur de mèmes</a> pour un autre excellent exemple.</p>
<p>Pour une vidéo explicative, assurez-vous de regarder notre <a href="https://www.youtube.com/watch?v=zNLHX_ezY50&amp;t=559s" target="_blank">Webinaire sur les widgets personnalisés</a> !</p>
<h3 id="notebook-jupyterlite">Notebook JupyterLite<a class="headerlink" href="#notebook-jupyterlite" title="Permanent link">#</a></h3>
<p>Ce widget vous permet d&rsquo;exécuter du code Python personnalisé dans <a href="https://jupyterlite.readthedocs.io/">JupyterLite</a>, une version de <a href="https://jupyterlab.readthedocs.io/en/stable/index.html">JupyterLab</a> fonctionnant entièrement dans le navigateur. Vous pouvez utiliser la pleine <a href="../code/modules/grist_plugin_api/">API de plugin de widget personnalisée</a> et accéder ou modifier n&rsquo;importe quelles données dans le document (sous réserve des Règles d&rsquo;accès), débloquant presque des possibilités illimitées pour les utilisateurs avancés.</p>
<p>Vous serez présenté avec un notebook où vous pouvez entrer et exécuter du code Python, par exemple :</p>
<p><img alt="exemple de notebook JupyterLite" src="../images/widget-custom/jupyterlite-notebook-example-notebook.png" /></p>
<p>Après avoir tapé du code dans une cellule, cliquez sur le bouton de lecture ou appuyez sur Shift+Entrée pour exécuter cette cellule.</p>
<p>Contrairement aux formules, le code n&rsquo;est pas enregistré automatiquement. Vous devez appuyer sur le bouton &lsquo;Enregistrer&rsquo; habituel au-dessus du widget (en dehors du notebook) pour conserver le code dans votre document Grist. D&rsquo;autre part, les modifications des paramètres dans le notebook (par exemple, les raccourcis clavier) sont enregistrées dans le stockage local de votre navigateur, donc elles ne sont pas partagées avec d&rsquo;autres utilisateurs du document.</p>
<p>Un objet spécial appelé <code>grist</code> est automatiquement disponible pour être utilisé dans le code Python, qui reflète de nombreuses méthodes courantes de l&rsquo;API de plugin <a href="../code/modules/grist_plugin_api/">JS</a>. Notez que beaucoup de ces méthodes sont asynchrones, donc vous devriez utiliser <code>await</code> avant de les appeler.</p>
<ul>
<li><code>async fetch_selected_table()</code>: renvoie les données de la table soutenant le widget notebook.</li>
<li><code>async fetch_selected_record(row_id=None)</code>: renvoie un enregistrement de la table soutenant le widget notebook. Si <code>row_id</code> est spécifié, renvoie l&rsquo;enregistrement à cette ligne. Sinon, renvoie l&rsquo;enregistrement à la position actuelle du curseur dans un widget lié au widget notebook.</li>
<li><code>async fetch_table(table_id)</code>: renvoie les données de la table spécifiée. Notez que cela diffère de <code>fetch_selected_table</code> (même pour la même table) de plusieurs manières :<ul>
<li>Le widget doit avoir un accès complet au document.</li>
<li>Toutes les colonnes sont incluses, tandis que <code>fetch_selected_table</code> exclut les colonnes qui sont cachées dans la configuration du widget.</li>
<li>Toutes les lignes sont incluses, tandis que <code>fetch_selected_table</code> prend en compte les filtres du widget et &lsquo;SÉLECTIONNER PAR&rsquo;.</li>
<li>Les données ne sont pas triées selon la configuration du widget.</li>
<li>Les données sont récupérées depuis le serveur, donc la méthode peut être plus lente.</li>
<li>Les valeurs pour les colonnes de référence sont des ID de ligne de la table référencée, tandis que <code>fetch_selected_table</code> renvoie les valeurs affichées en fonction de la configuration &lsquo;AFFICHER LA COLONNE&rsquo;.</li>
</ul>
</li>
<li><code>on_record(callback)</code>: enregistre une fonction de rappel à exécuter lorsque le curseur se déplace dans un widget lié au widget notebook, c&rsquo;est-à-dire le widget choisi dans le menu déroulant &ldquo;SÉLECTIONNER PAR&rdquo; dans la section Données de la configuration du widget. La fonction de rappel recevra l&rsquo;enregistrement à la position actuelle du curseur. Vous pouvez également l&rsquo;utiliser comme décorateur, c&rsquo;est-à-dire <code>@grist.on_record</code>.</li>
<li><code>on_records(callback)</code>: similaire à <code>on_record</code>, mais s&rsquo;exécute lorsque les données source du widget changent. La fonction de rappel recevra les mêmes données que celles renvoyées par <code>fetch_selected_table</code>.</li>
<li><code>get_table(table_id)</code>: renvoie une classe <code>TableOperations</code> similaire à l&rsquo;interface de l&rsquo;API de plugin <a href="./code/interfaces/TableOperations.TableOperations.md">JS</a> habituelle pour effectuer des opérations de type CRUD sur une table. Voir la documentation de l&rsquo;API de plugin pour les détails sur les paramètres. La classe a les méthodes suivantes :<ul>
<li><code>async create(records, parse_strings=True)</code></li>
<li><code>async update(records, parse_strings=True)</code></li>
<li><code>async upsert(records, parse_strings=True, add=True, update=True, on_many="first", allow_empty_require=False)</code></li>
<li><code>async destroy(row_ids)</code></li>
</ul>
</li>
</ul>
<p>Vous pouvez également utiliser <code>grist.raw</code> pour un accès direct à l&rsquo;API de plugin, par exemple <code>await grist.raw.docApi.fetchTable(table_id)</code>. Cela peut renvoyer des valeurs de cellule brutes que vous pouvez décoder avec <code>grist.decode_cell_value(value)</code>.</p>
<p>Vous pouvez utiliser de nombreuses (mais pas toutes) bibliothèques tierces dans votre notebook, comme <code>pandas</code>. Beaucoup seront installées automatiquement lorsqu&rsquo;elles seront importées. D&rsquo;autres nécessiteront d&rsquo;exécuter <code>%pip install &lt;nom du package&gt;</code> dans une cellule, par exemple <code>%pip install pandas</code>. Notez que c&rsquo;est <code>%pip</code> et non <code>!pip</code> comme dans un notebook Jupyter classique.</p>
<h3 id="carte">Carte<a class="headerlink" href="#carte" title="Permanent link">#</a></h3>
<p>Le widget de carte personnalisé vous permet d&rsquo;afficher des emplacements en utilisant des coordonnées de latitude et de longitude. Si vos données sont une adresse, plutôt qu&rsquo;au format lat-long, Grist peut convertir l&rsquo;adresse en coordonnées lat-long.</p>
<p><em><img alt="widget de carte" src="../images/widget-custom/map-widget.png" /></em></p>
<p>Si vous utilisez des coordonnées lat-long existantes, vous aurez besoin de trois colonnes : Nom, Longitude et Latitude.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="colonnes lat-long de carte" src="../images/widget-custom/map-lat-long-columns.png" /></em></span></p>
<p>Si vous utilisez une adresse, vous aurez besoin de six colonnes : Nom, Adresse, Géocodage, Longitude, Latitude et Adresse géocodée.</p>
<p class="screenshot-half"><em><img alt="colonnes d'adresse de carte" src="../images/widget-custom/map-address-columns.png" /></em></span></p>
<p>Géocodage est une <a href="../col-types/#toggle-columns">colonne de type bascule</a> qui doit être définie sur vrai pour tout enregistrement que vous souhaitez convertir d&rsquo;adresse en coordonnées lat-long à afficher sur la carte.</p>
<p>Si vous souhaitez convertir tous les enregistrements, vous pouvez faire de Géocodage une colonne de formule avec la formule = <code>True</code>. Cela marquera tous les enregistrements comme vrais.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="géocodage vrai de carte" src="../images/widget-custom/map-geocode-true.png" /></em></span></p>
<p>Ensuite, ajoutez un nouveau widget personnalisé à la page. Choisissez la table de données qui contient les adresses ou les coordonnées lat-long et &lsquo;Sélectionner par&rsquo; cette même table.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="ajouter widget de carte" src="images/widget-custom/map-add-widget.png" /></em></span></p>
<p>Pour configurer, sélectionnez &lsquo;Carte&rsquo; dans le menu déroulant Personnalisé.</p>
<p>Si vous avez déjà <strong>des coordonnées lat-long</strong>, vous pouvez définir votre niveau d&rsquo;accès sur <em>Lire la table sélectionnée</em>.</p>
<p>Si vous utilisez une <strong>adresse</strong> et qu&rsquo;elle doit être convertie en coordonnées lat-long, vous devrez définir votre niveau d&rsquo;accès sur <em>Accès complet au document</em> car le widget a besoin de la permission d&rsquo;écrire dans votre document afin d&rsquo;ajouter des coordonnées lat-long.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="configuration de carte 1" src="../images/widget-custom/map-configuration-1.png" /></em></span></p>
<p>Mappez toutes les colonnes requises. Notez que Nom, Longitude et Latitude sont étiquetés comme requis. Géocodage, Adresse et Adresse géocodée sont listés comme optionnels. Si vous utilisez des adresses et que vous avez besoin que Grist les convertisse en coordonnées lat-long, vous devez mapper les six colonnes.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="configuration de carte 2" src="../images/widget-custom/map-configuration-2.png" /></em></span></p>
<p>Après avoir mappé les colonnes nécessaires et sélectionné le niveau d&rsquo;accès approprié, le widget de carte se remplira.</p>
<p><em><img alt="carte finale" src="../images/widget-custom/map-final.png" /></em></p>
<p>Vous pouvez configurer la carte pour afficher uniquement l&rsquo;emplacement sélectionné en cliquant sur l&rsquo;option &lsquo;Ouvrir la configuration&rsquo; dans le <a href="../glossary/#creator-panel">panneau de création</a>. Ensuite, décochez &lsquo;Tous les emplacements&rsquo;. Cliquez sur la coche verte en haut du widget pour enregistrer les paramètres de configuration mis à jour.</p>
<p><em><img alt="configuration de carte emplacement" src="../images/widget-custom/map-configuration-location.png" /></em></p>
<p>Consultez notre modèle <a href="https://templates.getgrist.com/pyMHqncEspfZ/Mapping-Locations" target="_blank">Cartographie des emplacements</a> ou notre <a href="https://templates.getgrist.com/dKztiPYamcCp/Crowdsourced-List/p/1" target="_blank">Liste de crowdsourcing</a> pour deux excellents exemples !</p>
<p>Pour une vidéo explicative, consultez notre <a href="https://www.youtube.com/watch?v=zNLHX_ezY50&amp;t=713s" target="_blank">Webinaire sur les widgets personnalisés</a>.</p>
<h3 id="markdown">Markdown<a class="headerlink" href="#markdown" title="Permanent link">#</a></h3>
<p>Le widget personnalisé Markdown vous permet de formater du texte en utilisant Markdown tout en affichant le texte formaté dans un widget modifiable.</p>
<p>Pour d&rsquo;autres widgets d&rsquo;édition de texte, consultez nos widgets personnalisés <a href="#html-viewer">HTML</a> et <a href="#notepad">Bloc-notes</a>.</p>
<p><em><img alt="widget markdown" src="../images/widget-custom/markdown-widget.png" /></em></p>
<p>Pour commencer, ajoutez une nouvelle colonne à votre table. C&rsquo;est là que vous ajouterez votre texte qui sera formaté en utilisant Markdown.</p>
<p>Ensuite, ajoutez un nouveau widget personnalisé à la page. Choisissez la table de données qui contient le texte formaté avec Markdown et &lsquo;Sélectionner par&rsquo; cette même table.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="ajouter widget markdown" src="images/widget-custom/markdown-add-widget.png" /></em></span></p>
<p>Pour configurer, sélectionnez &lsquo;Markdown&rsquo; dans le menu déroulant Personnalisé et autorisez <strong>l&rsquo;accès complet au document</strong>. Comme le widget est également un éditeur, il a besoin de la permission d&rsquo;écrire dans le document.</p>
<p>Sous &lsquo;Contenu&rsquo;, sélectionnez la colonne de texte qui contient le formatage Markdown.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="configuration markdown" src="../images/widget-custom/markdown-configuration.png" /></em></span></p>
<p>Tout formatage Markdown dans la colonne de texte spécifiée s&rsquo;appliquera et sera visible et modifiable dans le widget personnalisé.</p>
<p><em><img alt="exemple final markdown" src="../images/widget-custom/markdown-final.png" /></em></p>
<p>Pour éditer le texte directement dans le widget, cliquez sur l&rsquo;icône d&rsquo;édition. Le texte reviendra à afficher la syntaxe Markdown qui peut être modifiée directement dans le widget. Lorsqu&rsquo;il est en mode édition, l&rsquo;icône d&rsquo;édition sera remplacée par l&rsquo;icône de sauvegarde. Assurez-vous de cliquer sur l&rsquo;icône de sauvegarde pour enregistrer les modifications et revenir à l&rsquo;affichage du texte formaté.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="édition markdown" src="../images/widget-custom/markdown-edit.png" /></em></span></p>
<p>Pour obtenir de l&rsquo;aide sur le formatage Markdown, consultez le <a href="https://www.markdownguide.org/basic-syntax/" target="_blank">Guide Markdown</a> pour la syntaxe de base. Ce guide est également accessible dans le widget Markdown en cliquant sur l&rsquo;icône d&rsquo;information en haut du widget. Le guide s&rsquo;ouvrira dans un nouvel onglet de votre navigateur pour une référence facile.</p>
<p>Vous pouvez trouver un exemple de l&rsquo;éditeur Markdown dans notre <a href="https://public.getgrist.com/uGS3WH3mhoVy/7-Webinar-7-Custom-Widgets-End-Result" target="_blank">Webinaire 7 (Widgets personnalisés)</a> modèle et consulter cette vidéo explicative de notre <a href="https://www.youtube.com/watch?v=zNLHX_ezY50&amp;t=1339s" target="_blank">Webinaire sur les widgets personnalisés</a>.</p>
<h3 id="bloc-notes">Bloc-notes<a class="headerlink" href="#bloc-notes" title="Permanent link">#</a></h3>
<p>Le widget Bloc-notes personnalisé vous permet de formater du texte en utilisant un éditeur de texte enrichi.</p>
<p>Pour d&rsquo;autres widgets d&rsquo;édition de texte, consultez nos widgets personnalisés <a href="#html-viewer">HTML</a> et <a href="#markdown">Markdown</a>.</p>
<p><em><img alt="widget bloc-notes" src="../images/widget-custom/notepad-widget.png" /></em></p>
<p>Pour commencer, ajoutez une nouvelle colonne à votre table. C&rsquo;est là que les détails de notre texte formaté seront stockés.</p>
<p>Ensuite, ajoutez un nouveau widget personnalisé à la page. Choisissez la table de données qui contient la colonne que nous venons d&rsquo;ajouter et &lsquo;Sélectionner par&rsquo; cette même table.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="ajouter widget bloc-notes" src="images/widget-custom/notepad-add-widget.png" /></em></span></p>
<p>Pour configurer, sélectionnez &lsquo;Bloc-notes&rsquo; dans le menu déroulant Personnalisé et autorisez <strong>l&rsquo;accès complet au document</strong>. Comme le widget est également un éditeur, il a besoin de la permission d&rsquo;écrire dans le document.</p>
<p>Sous &lsquo;Contenu&rsquo;, sélectionnez la colonne créée pour stocker notre texte formaté.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="configuration bloc-notes" src="../images/widget-custom/notepad-configuration.png" /></em></span></p>
<p>Si la colonne de texte que vous avez choisie sous Contenu a du texte existant, ce texte apparaîtra dans le widget Bloc-notes, prêt à être formaté.</p>
<p><em><img alt="texte enregistré bloc-notes" src="../images/widget-custom/notepad-saved-text.png" /></em></p>
<p>Utilisez n&rsquo;importe quelle option montrée ici pour formater votre texte.</p>
<p><em><img alt="symboles bloc-notes" src="../images/widget-custom/notepad-symbols.png" /></em></p>
<p>Comme vous pouvez le voir dans la capture d&rsquo;écran ci-dessous, le code pour le texte formaté n&rsquo;est pas utile à voir dans votre table. Vous éditerez le texte directement dans le widget Bloc-notes afin que vous puissiez <a href="../widget-table/#column-operations">cacher</a> cette colonne de votre table de données.</p>
<p><em><img alt="code de texte édité bloc-notes" src="../images/widget-custom/notepad-edited-text-code.png" /></em></p>
<p>Consultez notre <a href="https://templates.getgrist.com/4TRbjZXSPtR5/US-National-Park-Database/p/13" target="_blank">Base de données des parcs nationaux des États-Unis</a> ou notre <a href="https://templates.getgrist.com/cMQA7uuBbtMW/-Grocery-List-Meal-Planner/p/3" target="_blank">🛒 Liste de courses + Planificateur de repas</a> pour deux excellents exemples de Bloc-notes !</p>
<p>Vous pouvez également consulter cette vidéo explicative de notre <a href="https://www.youtube.com/watch?v=zNLHX_ezY50&amp;t=1194s" target="_blank">Webinaire sur les widgets personnalisés</a>.</p>
<h3 id="etiquettes-dimpression">Étiquettes d&rsquo;impression<a class="headerlink" href="#etiquettes-dimpression" title="Permanent link">#</a></h3>
<p>Le widget personnalisé Étiquettes d&rsquo;impression vous permet de personnaliser et d&rsquo;imprimer des étiquettes directement à partir de Grist.</p>
<p><em><img alt="impression d'étiquettes" src="../images/widget-custom/print-label.png" /></em></p>
<p>Pour commencer, ajoutez une nouvelle colonne à votre table. Cette colonne contiendra le texte pour l&rsquo;étiquette. Optionnellement, vous pouvez ajouter une deuxième colonne pour spécifier un nombre d&rsquo;étiquettes, vous permettant d&rsquo;imprimer plus d&rsquo;une même étiquette sans avoir à créer des enregistrements en double.</p>
<p>Ensuite, ajoutez un nouveau widget personnalisé à la page. Choisissez la table de données qui contient les détails de l&rsquo;étiquette.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="ajouter widget impression d'étiquettes" src="images/widget-custom/print-label-add-widget.png" /></em></span></p>
<p>Pour configurer, sélectionnez &lsquo;Impression d&rsquo;étiquettes&rsquo; dans le menu déroulant Personnalisé et autorisez l&rsquo;accès pour lire la table sélectionnée. Sous &lsquo;Étiquette&rsquo;, sélectionnez la colonne qui contient le texte à inclure sur les étiquettes. Si vous souhaitez imprimer plus d&rsquo;une étiquette, sélectionnez la colonne qui contient le nombre d&rsquo;étiquettes pour chaque enregistrement que vous souhaitez imprimer.</p>
<p class="screenshot-half"><span class="screenshot-large"><em><img alt="configuration impression d'étiquettes" src="../images/widget-custom/print-label-configuration.png" /></em></span></p>
<p>Vous pouvez choisir parmi des tailles de feuille standard dans le menu déroulant en haut à gauche du widget. Assurez-vous d&rsquo;enregistrer les modifications en cliquant sur la coche verte en haut à droite du widget.</p>
<p class="screenshot-half"><em><img alt="configuration de feuille d'impression d'étiquettes" src="../images/widget-custom/print-label-sheet-configuration.png" /></em></span></p>
<p>Pour laisser des étiquettes vides au début de la feuille, cliquez sur l&rsquo;icône de paramètres puis spécifiez combien d&rsquo;étiquettes doivent rester vides. Cela est particulièrement utile si une partie de votre feuille d&rsquo;étiquettes a déjà été utilisée. Vous pouvez sauter les étiquettes utilisées et commencer à imprimer sur votre première étiquette inutilisée.</p>
<p class="screenshot-half"><em><img alt="étiquettes vides d'impression" src="../images/widget-custom/print-label-blanks.png" /></em></span></p>
<p>Consultez notre modèle <a href="https://templates.getgrist.com/9nNr9uQwoXWA/Print-Mailing-Labels" target="_blank">Impression d&rsquo;étiquettes d&rsquo;expédition</a> et notre modèle <a href="https://templates.getgrist.com/ihsZTnKTF7Lr/Treasure-Hunt/p/6" target="_blank">Chasse au trésor</a> pour deux excellents exemples !</p>
<p>Vous pouvez également consulter cette vidéo explicative de notre <a href="https://www.youtube.com/watch?v=zNLHX_ezY50&amp;t=1749s" target="_blank">Webinaire sur les widgets personnalisés</a>.</p>

  <br>
</div>

<div class="feedback-box">
  <div class="feedback-box-title">Give Feedback</div>
  <div class="feedback-box-question">Was this article helpful?</div>
  <div class="feedback-box-buttons">
    <button class="feedback-box-button" data-rating="thumbsUp">&#x1F44D;</button>
    <button class="feedback-box-button" data-rating="thumbsDown">&#x1F44E;</button>
  </div>
  <div class="feedback-box-response">
    Thank you for letting us know!
  </div>
</div>

<script>
function initFeedbackButtons() {
  const serverUrl = "https://docs.getgrist.com";
  const feedbackBox = document.querySelector('.feedback-box');
  const buttons = document.querySelectorAll('.feedback-box-button');
  document.querySelector('.feedback-box-buttons').addEventListener('click', giveFeedback);

  async function giveFeedback(event) {
    const rating = event.target.dataset.rating;
    if (!rating) { return; }
    buttons.forEach(b => { b.disabled = true; });
    try {
      console.log("Sending rating to " + serverUrl + '/api/telemetry');
      const resp = await window.fetch(serverUrl + '/api/telemetry', makePayload(rating));
      if (!resp.ok) { throw new Error(resp.statusText); }
    } catch (err) {
      console.warn('Failed to report feedback', err);
      document.querySelector('.feedback-box-response').textContent = String(err);
    } finally {
      buttons.forEach(b => { b.disabled = false; });
      feedbackBox.classList.add('feedback-submitted');
    }
  }

  function makePayload(rating) {
    const url = window.location.href;
    return {
      method: 'POST',
      body: JSON.stringify({
        event: 'ratedHelpCenterArticle',
        metadata: {full: {url, rating}},
      }),
      credentials: 'same-origin',
      headers: {
        'Content-Type': 'application/json',
        'X-Requested-With': 'XMLHttpRequest',
      },
    };
  }
}
initFeedbackButtons();
</script><footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/gristlabs/grist-help/edit/master/docs/widget-custom.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

    </div>
  </div>
</div>

<div class="modal fade" id="video-modal" tabindex="-1" role="dialog" aria-labelledby="video-modal" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <div style="position:relative; padding-bottom:56.25%; margin-top: 32px;">
          <iframe src="" allowfullscreen style="position:absolute; left:0; top:0; width:100%; height:100%"></iframe>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>